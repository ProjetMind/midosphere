(function(){var T=!1,S,R=this;function Q(i,m){var f=i.split("."),l=R;!(f[0] in l)&&l.execScript&&l.execScript("var "+f[0]);for(var k;f.length&&(k=f.shift());){!f.length&&void 0!==m?l[k]=m:l=l[k]?l[k]:l[k]={}}}var P=Array.prototype,O=P.forEach?function(i,k,f){P.forEach.call(i,k,f)}:function(i,n,f){for(var m=i.length,l="string"==typeof i?i.split(""):i,k=0;k<m;k++){k in l&&n.call(f,l[k],k,i)}};function N(i,n){this.c={};this.a=[];var f=arguments.length;if(1<f){if(f%2){throw Error("Uneven number of arguments")}for(var m=0;m<f;m+=2){this.set(arguments[m],arguments[m+1])}}else{if(i){var l;if(i instanceof N){M(i);m=i.a.concat();M(i);l=[];for(f=0;f<i.a.length;f++){l.push(i.c[i.a[f]])}}else{var f=[],k=0;for(m in i){f[k++]=m}m=f;f=[];k=0;for(l in i){f[k++]=i[l]}l=f}for(f=0;f<m.length;f++){this.set(m[f],l[f])}}}}N.prototype.f=0;N.prototype.p=0;function M(i){if(i.f!=i.a.length){for(var m=0,f=0;m<i.a.length;){var l=i.a[m];A(i.c,l)&&(i.a[f++]=l);m++}i.a.length=f}if(i.f!=i.a.length){for(var k={},f=m=0;m<i.a.length;){l=i.a[m],A(k,l)||(i.a[f++]=l,k[l]=1),m++}i.a.length=f}}N.prototype.get=function(f,i){return A(this.c,f)?this.c[f]:i};N.prototype.set=function(f,i){A(this.c,f)||(this.f++,this.a.push(f),this.p++);this.c[f]=i};function A(f,i){return Object.prototype.hasOwnProperty.call(f,i)}var s,o,h,g;function d(){return R.navigator?R.navigator.userAgent:null}g=h=o=s=T;var H;if(H=d()){var B=R.navigator;s=0==H.indexOf("Opera");o=!s&&-1!=H.indexOf("MSIE");h=!s&&-1!=H.indexOf("WebKit");g=!s&&!h&&"Gecko"==B.product}var z=o,p=g,j=h;var e;if(s&&R.opera){var c=R.opera.version;"function"==typeof c&&c()}else{p?e=/rv\:([^\);]+)(\)|;)/:z?e=/MSIE\s+([^\);]+)(\)|;)/:j&&(e=/WebKit\/(\S+)/),e&&e.exec(d())}function b(f,i){this.b=f||{e:"",prefix:"",host:"",scheme:""};this.h(i||{})}b.g=function(){return b.j?b.j:b.j=new b};S=b.prototype;S.h=function(f){this.d=new N(f)};S.o=function(){return this.d};S.k=function(f){this.b.e=f};S.n=function(){return this.b.e};S.l=function(f){this.b.prefix=f};function a(i,n,f,m){var l,k=RegExp(/\[\]$/);if(f instanceof Array){O(f,function(q,r){k.test(n)?m(n,q):a(i,n+"["+("object"===typeof q?r:"")+"]",q,m)})}else{if("object"===typeof f){for(l in f){a(i,n+"["+l+"]",f[l],m)}}else{m(n,f)}}}S.i=function(f){var i=this.b.prefix+f;if(A(this.d.c,i)){f=i}else{if(!A(this.d.c,f)){throw Error('The route "'+f+'" does not exist.')}}return this.d.get(f)};S.m=function(v,r,u){var q=this.i(v),n=r||{},m={},t;for(t in n){m[t]=n[t]}var l="",x=!0,k="";O(q.tokens,function(y){if("text"===y[0]){l=y[1]+l,x=T}else{if("variable"===y[0]){var D=y[3] in q.defaults;if(T===x||!D||y[3] in n&&n[y[3]]!=q.defaults[y[3]]){if(y[3] in n){var D=n[y[3]],C=y[3];C in m&&delete m[C]}else{if(D){D=q.defaults[y[3]]}else{if(x){return}throw Error('The route "'+v+'" requires the parameter "'+y[3]+'".')}}if(!(!0===D||T===D||""===D)||!x){C=encodeURIComponent(D).replace(/%2F/g,"/"),"null"===C&&null===D&&(C=""),l=y[1]+C+l}x=T}else{D&&(y=y[3],y in m&&delete m[y])}}else{throw Error('The token type "'+y[0]+'" is not supported.')}}});""===l&&(l="/");O(q.hosttokens,function(C){var y;if("text"===C[0]){k=C[1]+k}else{if("variable"===C[0]){if(C[3] in n){y=n[C[3]];var D=C[3];D in m&&delete m[D]}else{C[3] in q.defaults&&(y=q.defaults[C[3]])}k=C[1]+y+k}}});l=this.b.e+l;"_scheme" in q.requirements&&this.b.scheme!=q.requirements._scheme?l=q.requirements._scheme+"://"+(k||this.b.host)+l:k&&this.b.host!==k?l=this.b.scheme+"://"+k+l:!0===u&&(l=this.b.scheme+"://"+this.b.host+l);var r=0,i;for(i in m){r++}if(0<r){var f,w=[];i=function(C,y){y="function"===typeof y?y():y;w.push(encodeURIComponent(C)+"="+encodeURIComponent(null===y?"":y))};for(f in m){a(this,f,m[f],i)}l=l+"?"+w.join("&").replace(/%20/g,"+")}return l};Q("fos.Router",b);Q("fos.Router.setData",function(f){var i=b.g();i.k(f.base_url);i.h(f.routes);"prefix" in f&&i.l(f.prefix);i.b.host=f.host;i.b.scheme=f.scheme});b.getInstance=b.g;b.prototype.setRoutes=b.prototype.h;b.prototype.getRoutes=b.prototype.o;b.prototype.setBaseUrl=b.prototype.k;b.prototype.getBaseUrl=b.prototype.n;b.prototype.generate=b.prototype.m;b.prototype.setPrefix=b.prototype.l;b.prototype.getRoute=b.prototype.i;window.Routing=b.g()})();
fos.Router.setData({base_url:"/midosphere/web/app.php",routes:{mind_mp_json_user:{tokens:[["text","/messagerie/get-users-ajax"]],defaults:[],requirements:[],hosttokens:[]},mind_mp_conversation_non_lu:{tokens:[["text","/messagerie/get-conversation-non-lu"]],defaults:[],requirements:[],hosttokens:[]},mind_commentaire_add_com_pour_avis:{tokens:[["variable","/","[^/]++","idAvis"],["text","/avis/commentaire/ajouter-un-commentaire"]],defaults:[],requirements:[],hosttokens:[]},mind_commentaire_add_com_pour_question:{tokens:[["variable","/","[^/]++","idQuestion"],["text","/question/commentaire/ajouter-un-commentaire"]],defaults:[],requirements:[],hosttokens:[]},mind_media_abonnement:{tokens:[["variable","/","[^/]++","idUser"],["text","/abonnement/user"]],defaults:[],requirements:[],hosttokens:[]},mind_media_abonnement_domaine:{tokens:[["variable","/","[^/]++","idDuDomaine"],["variable","/","[^/]++","idUser"],["text","/abonnement/domaine"]],defaults:[],requirements:[],hosttokens:[]},mind_media_suivis:{tokens:[["variable","/","[^/]++","stringOptions"],["text","/suivis"]],defaults:[],requirements:[],hosttokens:[]},mind_site_domaine_for_form:{tokens:[["text","/get-domaine-form-form"]],defaults:[],requirements:[],hosttokens:[]},mind_admin_domaine:{tokens:[["text","/admin/domaines"]],defaults:[],requirements:[],hosttokens:[]},mind_admin_domaine_add:{tokens:[["text","/admin/domaines/ajouter-un-domaine"]],defaults:[],requirements:[],hosttokens:[]},mind_admin_domaine_json:{tokens:[["text","/admin/domaines/get-json-data"]],defaults:[],requirements:[],hosttokens:[]},mind_user_compte_render_replace:{tokens:[["variable","/","[^/]++","idReplace"],["text","/compte/modifier/render-replace"]],defaults:[],requirements:[],hosttokens:[]},mind_user_compte_edit_avatar:{tokens:[["text","/compte/modifier/avatar"]],defaults:[],requirements:[],hosttokens:[]},mind_user_compte_edit_infos_persos:{tokens:[["text","/compte/modifier/informations-personelles"]],defaults:[],requirements:[],hosttokens:[]},mind_user_compte_edit_localisation:{tokens:[["text","/compte/modifier/localisation"]],defaults:[],requirements:[],hosttokens:[]},mind_user_compte_edit_parametres_connexion:{tokens:[["text","/compte/modifier/parametre-de-connexion"]],defaults:[],requirements:[],hosttokens:[]}},prefix:"",host:"localhost",scheme:"http"});
sfHover=function(){var b=document.getElementById("headerNotificationMenu").getElementsByTagName("li");for(var a=0;a<b.length;a++){b[a].onmouseover=function(){this.className+=" sfhover"};b[a].onmouseout=function(){this.className=this.className.replace(new RegExp(" sfhover\\b"),"")}}};if(window.attachEvent){window.attachEvent("onload",sfHover)}function headerNotificationMenuOnBlur(a){alert("etst")}function headerNotificationMenuOnClick(){$(function(){$("#notification>#headerNotificationMenu>li>ul").css({left:"auto",minHeight:"0"});$('#notification>#headerNotificationMenu>li[class="sfhover"]>ul').css({left:"auto",minHeight:"0"})})};

var Holder=Holder||{};(function(g,c){var u=false,n=false,b=document.createElement("canvas");document.getElementsByClassName||(document.getElementsByClassName=function(A){var x=document,B,z,w,y=[];if(x.querySelectorAll){return x.querySelectorAll("."+A)}if(x.evaluate){z=".//*[contains(concat(' ', @class, ' '), ' "+A+" ')]",B=x.evaluate(z,x,null,0,null);while(w=B.iterateNext()){y.push(w)}}else{B=x.getElementsByTagName("*"),z=new RegExp("(^|\\s)"+A+"(\\s|$)");for(w=0;w<B.length;w++){z.test(B[w].className)&&y.push(B[w])}}return y});window.getComputedStyle||(window.getComputedStyle=function(x,w){return this.el=x,this.getPropertyValue=function(y){var z=/(\-([a-z]){1})/g;return y=="float"&&(y="styleFloat"),z.test(y)&&(y=y.replace(z,function(){return arguments[2].toUpperCase()})),x.currentStyle[y]?x.currentStyle[y]:null},this});function s(z,K){var A="complete",L="readystatechange",J=!1,C=J,F=!0,B=z.document,H=B.documentElement,E=B.addEventListener?"addEventListener":"attachEvent",I=B.addEventListener?"removeEventListener":"detachEvent",D=B.addEventListener?"":"on",w=function(y){(y.type!=L||B.readyState==A)&&((y.type=="load"?z:B)[I](D+y.type,w,J),!C&&(C=!0)&&K.call(z,null))},x=function(){try{H.doScroll("left")}catch(y){setTimeout(x,50);return}w("poll")};if(B.readyState==A){K.call(z,"lazy")}else{if(B.createEventObject&&H.doScroll){try{F=!z.frameElement}catch(G){}F&&x()}B[E](D+"DOMContentLoaded",w,J),B[E](D+L,w,J),z[E](D+"load",w,J)}}function o(x){x=x.match(/^(\W)?(.*)/);var w=document["getElement"+(x[1]?x[1]=="#"?"ById":"sByClassName":"sByTagName")](x[2]);var y=[];w!=null&&(w.length?y=w:w.length==0?y=w:y=[w]);return y}function r(x,w){var A={};for(var z in x){A[z]=x[z]}for(var y in w){A[y]=w[y]}return A}if(!Object.prototype.hasOwnProperty){Object.prototype.hasOwnProperty=function(x){var w=this.__proto__||this.constructor.prototype;return(x in this)&&(!(x in w)||w[x]!==this[x])}}function l(B,x,A){x=parseInt(x,10);B=parseInt(B,10);var w=Math.max(x,B);var z=Math.min(x,B);var C=1/12;var y=Math.min(z*0.75,0.75*w*C);return{height:Math.round(Math.max(A.size,y))}}function k(G,w,D,C){var A=l(w.width,w.height,D);var B=A.height;var y=w.width*C,F=w.height*C;var z=D.font?D.font:"sans-serif";b.width=y;b.height=F;G.textAlign="center";G.textBaseline="middle";G.fillStyle=D.background;G.fillRect(0,0,y,F);G.fillStyle=D.foreground;G.font="bold "+B+"px "+z;var E=D.text?D.text:(Math.floor(w.width)+"x"+Math.floor(w.height));var x=G.measureText(E).width;if(x/y>=0.75){B=Math.floor(B*0.75*(y/x))}G.font="bold "+(B*C)+"px "+z;G.fillText(E,(y/2),(F/2),y);return b.toDataURL("image/png")}function v(D,y,x,C){var z=x.dimensions,A=x.theme,B=x.text?decodeURIComponent(x.text):x.text;var w=z.width+"x"+z.height;A=(B?r(A,{text:B}):A);A=(x.font?r(A,{font:x.font}):A);if(D=="image"){y.setAttribute("data-src",C);y.setAttribute("alt",B?B:A.text?A.text+" ["+w+"]":w);if(n||!x.auto){y.style.width=z.width+"px";y.style.height=z.height+"px"}if(n){y.style.backgroundColor=A.background}else{y.setAttribute("src",k(m,z,A,e))}}else{if(D=="background"){if(!n){y.style.backgroundImage="url("+k(m,z,A,e)+")";y.style.backgroundSize=z.width+"px "+z.height+"px"}}else{if(D=="fluid"){y.setAttribute("data-src",C);y.setAttribute("alt",B?B:A.text?A.text+" ["+w+"]":w);if(z.height.substr(-1)=="%"){y.style.height=z.height}else{y.style.height=z.height+"px"}if(z.width.substr(-1)=="%"){y.style.width=z.width}else{y.style.width=z.width+"px"}if(y.style.display=="inline"||y.style.display==""){y.style.display="block"}if(n){y.style.backgroundColor=A.background}else{y.holderData=x;h.push(y);f(y)}}}}}function f(y){var w;if(y.nodeType==null){w=h}else{w=[y]}for(i in w){var z=w[i];if(z.holderData){var x=z.holderData;z.setAttribute("src",k(m,{height:z.clientHeight,width:z.clientWidth},x.theme,e))}}}function d(x,z){var y={theme:q.themes.gray},A=false;for(sl=x.length,j=0;j<sl;j++){var w=x[j];if(g.flags.dimensions.match(w)){A=true;y.dimensions=g.flags.dimensions.output(w)}else{if(g.flags.fluid.match(w)){A=true;y.dimensions=g.flags.fluid.output(w);y.fluid=true}else{if(g.flags.colors.match(w)){y.theme=g.flags.colors.output(w)}else{if(z.themes[w]){y.theme=z.themes[w]}else{if(g.flags.text.match(w)){y.text=g.flags.text.output(w)}else{if(g.flags.font.match(w)){y.font=g.flags.font.output(w)}else{if(g.flags.auto.match(w)){y.auto=true}}}}}}}}return A?y:false}if(!b.getContext){n=true}else{if(b.toDataURL("image/png").indexOf("data:image/png")<0){n=true}else{var m=b.getContext("2d")}}var a=1,t=1;if(!n){a=window.devicePixelRatio||1,t=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1}var e=a/t;var h=[];var q={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:""};g.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(x){var w=this.regex.exec(x);return{width:+w[1],height:+w[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(x){var w=this.regex.exec(x);return{width:w[1],height:w[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(x){var w=this.regex.exec(x);return{size:q.themes.gray.size,foreground:"#"+w[2],background:"#"+w[1]}}},text:{regex:/text\:(.*)/,output:function(w){return this.regex.exec(w)[1]}},font:{regex:/font\:(.*)/,output:function(w){return this.regex.exec(w)[1]}},auto:{regex:/^auto$/}};for(var p in g.flags){if(!g.flags.hasOwnProperty(p)){continue}g.flags[p].match=function(w){return w.match(this.regex)}}g.add_theme=function(w,x){w!=null&&x!=null&&(q.themes[w]=x);return g};g.add_image=function(B,z){var A=o(z);if(A.length){for(var y=0,w=A.length;y<w;y++){var x=document.createElement("img");x.setAttribute("data-src",B);A[y].appendChild(x)}}return g};g.run=function(x){var K=r(q,x),H=[],F=[],J=[];if(typeof(K.images)=="string"){F=o(K.images)}else{if(window.NodeList&&K.images instanceof window.NodeList){F=K.images}else{if(window.Node&&K.images instanceof window.Node){F=[K.images]}}}if(typeof(K.bgnodes)=="string"){J=o(K.bgnodes)}else{if(window.NodeList&&K.elements instanceof window.NodeList){J=K.bgnodes}else{if(window.Node&&K.bgnodes instanceof window.Node){J=[K.bgnodes]}}}u=true;for(B=0,A=F.length;B<A;B++){H.push(F[B])}var z=document.getElementById("holderjs-style");if(!z){z=document.createElement("style");z.setAttribute("id","holderjs-style");z.type="text/css";document.getElementsByTagName("head")[0].appendChild(z)}if(!K.nocss){if(z.styleSheet){z.styleSheet.cssText+=K.stylesheet}else{z.appendChild(document.createTextNode(K.stylesheet))}}var G=new RegExp(K.domain+'/(.*?)"?\\)');for(var A=J.length,B=0;B<A;B++){var w=window.getComputedStyle(J[B],null).getPropertyValue("background-image");var y=w.match(G);var E=J[B].getAttribute("data-background-src");if(y){var I=d(y[1].split("/"),K);if(I){v("background",J[B],I,w)}}else{if(E!=null){var I=d(E.substr(E.lastIndexOf(K.domain)+K.domain.length+1).split("/"),K);if(I){v("background",J[B],I,w)}}}}for(A=H.length,B=0;B<A;B++){var C=attr_data_src=w=null;try{C=H[B].getAttribute("src");attr_datasrc=H[B].getAttribute("data-src")}catch(D){}if(attr_datasrc==null&&!!C&&C.indexOf(K.domain)>=0){w=C}else{if(!!attr_datasrc&&attr_datasrc.indexOf(K.domain)>=0){w=attr_datasrc}}if(w){var I=d(w.substr(w.lastIndexOf(K.domain)+K.domain.length+1).split("/"),K);if(I){if(I.fluid){v("fluid",H[B],I,w)}else{v("image",H[B],I,w)}}}}return g};s(c,function(){if(window.addEventListener){window.addEventListener("resize",f,false);window.addEventListener("orientationchange",f,false)}else{window.attachEvent("onresize",f)}u||g.run()});if(typeof define==="function"&&define.amd){define("Holder",[],function(){return g})}})(Holder,window);

$(document).ready(function(){var a={success:showResponseNvMessage,clearForm:true,resetForm:true};$("#formNouveauMessage").ajaxForm(a)});function showResponseNvMessage(b,c,d,a){$("#msgContent").append(b)};
function getDomaines(){$("#containerDiv_AddAvis_Domaines > label > input").click(function(){idDuDomaineParent=this.value;leLabelContainer=this.id;var a=Routing.generate("mind_site_get_domaine_ajax",{id:idDuDomaineParent});$.ajax({type:"POST",url:a,cache:false,success:function(b){$("label[for="+leLabelContainer+"]").append(b)}})})}$(function(){getDomaines()});
function supprimer(a){var b={success:showResponseSupprimer,dataType:"json"};$("#form"+a).ajaxForm(b)}function showResponseSupprimer(a){$("#"+a.id).remove()};
$(document).ready(function(){var a={success:showResponseCommentaire,clearForm:true,resetForm:true};$("#formAddCommentaireAvis").ajaxForm(a);$("#formAddCommentaireQuestion").ajaxForm(a)});function showResponseCommentaire(b,c,d,a){$("#groupCommentaires").append(b)};
function newDestinataire(e,b){var d=jQuery("#participants-fields-list");var c=d.attr("data-prototype");c=c.replace(/__name__/g,e);e++;var a=jQuery("<li></li>").html(c);a.appendTo(jQuery("#participants-fields-list"));$("#participants-fields-list > li:last > input").attr("value",b.item.idUser);return e}function newDestinataireDeletable(f,c){var e=c.item.value;var b=document.getElementById("ulInputAutocomplete");var d=b.firstElementChild;var a='<button id="'+f+'" type="button" class="close" data-dismiss="alert">Ã—</button>'+e;var g=jQuery('<li class="alert alert-success"></li>').html(a);jQuery(g).insertBefore(d);return false}function deleteDestinataire(){jQuery("#ulInputAutocomplete").on("click",'button[class="close"]',function(){var a="mind_mpbundle_conversationtype_tabParticipants_"+this.id;jQuery("#"+a).parent().remove();this.parent().remove();return false})}function split(a){return a.split(/,\s*/)}function extractLast(a){return split(a).pop()}jQuery(function(){deleteDestinataire()});$(function(){$("#tabDestinataires").bind("keydown",function(a){if(a.keyCode===$.ui.keyCode.TAB&&$(this).data("ui-autocomplete").menu.active){}}).autocomplete({minLength:1,source:function(c,a){var b=Routing.generate("mind_message_nouveau_conversation_object",{terms:extractLast(c.term)});return $.ajax({type:"POST",dataType:"json",url:b,cache:false,success:function(d){a($.ui.autocomplete.filter(d,extractLast(c.term)))}})},html:true,messages:{noResults:"",results:function(){}},position:{my:"left top",at:"left bottom",collision:"none"},select:function(b,c){var a=split(this.value);a.pop();a.push(c.item.value);newDestinataireDeletable(emailCount,c);emailCount=newDestinataire(emailCount,c);this.value="";return false}})});
$(function(){var a=Routing.generate("mind_mp_json_user");$("#destinataires").select2({multiple:true,minimumInputLength:2,placeholder:"Pseudo",width:150,allowClear:true,id:function(b){return b.id},ajax:{url:a,dataType:"json",data:function(b,c){return{searchTerms:b}},results:function(c,b){return{results:c}}},formatResult:function(b){return b.username},formatSelection:function(c){var b='<input id="'+c.id+'" value="'+c.id+'" type="hidden" id="mind_mpbundle_messagetype_destinataires'+c.id+'" name="mind_mpbundle_messagetype[destinataires]['+c.id+']" required="required" />';return c.username+b}})});
(function(c){var b=c.ui.autocomplete.prototype,d=b._initSource;function a(g,e){var f=new RegExp(c.ui.autocomplete.escapeRegex(e),"i");return c.grep(g,function(h){return f.test(c("<div>").html(h.label||h.value||h).text())})}c.extend(b,{_initSource:function(){if(this.options.html&&c.isArray(this.options.source)){this.source=function(f,e){e(a(this.options.source,f.term))}}else{d.call(this)}},_renderItem:function(e,f){return c("<li></li>").data("item.autocomplete",f).append(c("<a></a>")[this.options.html?"html":"text"](f.label)).appendTo(e)}})})(jQuery);
$(document).ready(function(){var a={success:showResponseMessage,clearForm:true,resetForm:true};$("#formNouveauMessage").ajaxForm(a)});function showResponseMessage(b,c,d,a){$("#msgContent").append(b)};

(function(a){if(typeof a.fn.each2=="undefined"){a.extend(a.fn,{each2:function(f){var d=a([0]),e=-1,b=this.length;while(++e<b&&(d.context=d[0]=this[e])&&f.call(d[0],e,d)!==false){}return this}})}})(jQuery);(function(D,m){if(window.Select2!==m){return}var K,N,x,c,a,p,o={x:0,y:0},v,w,K={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(O){O=O.which?O.which:O;switch(O){case K.LEFT:case K.RIGHT:case K.UP:case K.DOWN:return true}return false},isControl:function(P){var O=P.which;switch(O){case K.SHIFT:case K.CTRL:case K.ALT:return true}if(P.metaKey){return true}return false},isFunctionKey:function(O){O=O.which?O.which:O;return O>=112&&O<=123}},B="<div class='select2-measure-scrollbar'></div>",d={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z"};v=D(document);a=(function(){var O=1;return function(){return O++}}());function e(R){var P,Q,O,S;if(!R||R.length<1){return R}P="";for(Q=0,O=R.length;Q<O;Q++){S=R.charAt(Q);P+=d[S]||S}return P}function q(Q,R){var P=0,O=R.length;for(;P<O;P=P+1){if(t(Q,R[P])){return P}}return -1}function M(){var O=D(B);O.appendTo("body");var P={width:O.width()-O[0].clientWidth,height:O.height()-O[0].clientHeight};O.remove();return P}function t(P,O){if(P===O){return true}if(P===m||O===m){return false}if(P===null||O===null){return false}if(P.constructor===String){return P+""===O+""}if(O.constructor===String){return O+""===P+""}return false}function i(P,R){var S,Q,O;if(P===null||P.length<1){return[]}S=P.split(R);for(Q=0,O=S.length;Q<O;Q=Q+1){S[Q]=D.trim(S[Q])}return S}function h(O){return O.outerWidth(false)-O.width()}function F(P){var O="keyup-change-value";P.on("keydown",function(){if(D.data(P,O)===m){D.data(P,O,P.val())}});P.on("keyup",function(){var Q=D.data(P,O);if(Q!==m&&P.val()!==Q){D.removeData(P,O);P.trigger("keyup-change")}})}v.on("mousemove",function(O){o.x=O.pageX;o.y=O.pageY});function J(O){O.on("mousemove",function(Q){var P=o;if(P===m||P.x!==Q.pageX||P.y!==Q.pageY){D(Q.target).trigger("mousemove-filtered",Q)}})}function k(R,P,O){O=O||m;var Q;return function(){var S=arguments;window.clearTimeout(Q);Q=window.setTimeout(function(){P.apply(O,S)},R)}}function s(Q){var O=false,P;return function(){if(O===false){P=Q();O=true}return P}}function l(O,Q){var P=k(O,function(R){Q.trigger("scroll-debounced",R)});Q.on("scroll",function(R){if(q(R.target,Q.get())>=0){P(R)}})}function I(O){if(O[0]===document.activeElement){return}window.setTimeout(function(){var Q=O[0],R=O.val().length,P;O.focus();if(O.is(":visible")&&Q===document.activeElement){if(Q.setSelectionRange){Q.setSelectionRange(R,R)}else{if(Q.createTextRange){P=Q.createTextRange();P.collapse(false);P.select()}}}},0)}function f(O){O=D(O)[0];var R=0;var P=0;if("selectionStart" in O){R=O.selectionStart;P=O.selectionEnd-R}else{if("selection" in document){O.focus();var Q=document.selection.createRange();P=document.selection.createRange().text.length;Q.moveStart("character",-O.value.length);R=Q.text.length-P}}return{offset:R,length:P}}function A(O){O.preventDefault();O.stopPropagation()}function b(O){O.preventDefault();O.stopImmediatePropagation()}function n(P){if(!p){var O=P[0].currentStyle||window.getComputedStyle(P[0],null);p=D(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:O.fontSize,fontFamily:O.fontFamily,fontStyle:O.fontStyle,fontWeight:O.fontWeight,letterSpacing:O.letterSpacing,textTransform:O.textTransform,whiteSpace:"nowrap"});p.attr("class","select2-sizer");D("body").append(p)}p.text(P.val());return p.width()}function j(P,T,O){var R,S=[],Q;R=P.attr("class");if(R){R=""+R;D(R.split(" ")).each2(function(){if(this.indexOf("select2-")===0){S.push(this)}})}R=T.attr("class");if(R){R=""+R;D(R.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){Q=O(this);if(Q){S.push(Q)}}})}P.attr("class",S.join(" "))}function u(T,S,Q,O){var R=e(T.toUpperCase()).indexOf(e(S.toUpperCase())),P=S.length;if(R<0){Q.push(O(T));return}Q.push(O(T.substring(0,R)));Q.push("<span class='select2-match'>");Q.push(O(T.substring(R,R+P)));Q.push("</span>");Q.push(O(T.substring(R+P,T.length)))}function G(O){var P={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(O).replace(/[&<>"'\/\\]/g,function(Q){return P[Q]})}function E(P){var S,Q=null,T=P.quietMillis||100,R=P.url,O=this;return function(U){window.clearTimeout(S);S=window.setTimeout(function(){var X=P.data,W=R,Z=P.transport||D.fn.select2.ajaxDefaults.transport,V={type:P.type||"GET",cache:P.cache||false,jsonpCallback:P.jsonpCallback||m,dataType:P.dataType||"json"},Y=D.extend({},D.fn.select2.ajaxDefaults.params,V);X=X?X.call(O,U.term,U.page,U.context):null;W=(typeof W==="function")?W.call(O,U.term,U.page,U.context):W;if(Q){Q.abort()}if(P.params){if(D.isFunction(P.params)){D.extend(Y,P.params.call(O))}else{D.extend(Y,P.params)}}D.extend(Y,{url:W,dataType:P.dataType,data:X,success:function(ab){var aa=P.results(ab,U.page);U.callback(aa)}});Q=Z.call(O,Y)},T)}}function H(P){var S=P,R,Q,T=function(U){return""+U.text};if(D.isArray(S)){Q=S;S={results:Q}}if(D.isFunction(S)===false){Q=S;S=function(){return Q}}var O=S();if(O.text){T=O.text;if(!D.isFunction(T)){R=O.text;T=function(U){return U[R]}}}return function(W){var V=W.term,U={results:[]},X;if(V===""){W.callback(S());return}X=function(Z,ab){var aa,Y;Z=Z[0];if(Z.children){aa={};for(Y in Z){if(Z.hasOwnProperty(Y)){aa[Y]=Z[Y]}}aa.children=[];D(Z.children).each2(function(ac,ad){X(ad,aa.children)});if(aa.children.length||W.matcher(V,T(aa),Z)){ab.push(aa)}}else{if(W.matcher(V,T(Z),Z)){ab.push(Z)}}};D(S().results).each2(function(Z,Y){X(Y,U.results)});W.callback(U)}}function z(P){var O=D.isFunction(P);return function(S){var R=S.term,Q={results:[]};D(O?P():P).each(function(){var T=this.text!==m,U=T?this.text:this;if(R===""||S.matcher(R,U)){Q.results.push(T?this:{id:this,text:this})}});S.callback(Q)}}function y(O,P){if(D.isFunction(O)){return true}if(!O){return false}throw new Error(P+" must be a function or a falsy value")}function C(O){return D.isFunction(O)?O():O}function r(O){var P=0;D.each(O,function(Q,R){if(R.children){P+=r(R.children)}else{P++}});return P}function g(W,X,U,O){var P=W,Y=false,R,V,S,Q,T;if(!O.createSearchChoice||!O.tokenSeparators||O.tokenSeparators.length<1){return m}while(true){V=-1;for(S=0,Q=O.tokenSeparators.length;S<Q;S++){T=O.tokenSeparators[S];V=W.indexOf(T);if(V>=0){break}}if(V<0){break}R=W.substring(0,V);W=W.substring(V+T.length);if(R.length>0){R=O.createSearchChoice.call(this,R,X);if(R!==m&&R!==null&&O.id(R)!==m&&O.id(R)!==null){Y=false;for(S=0,Q=X.length;S<Q;S++){if(t(O.id(R),O.id(X[S]))){Y=true;break}}if(!Y){U(R)}}}}if(P!==W){return W}}function L(O,P){var Q=function(){};Q.prototype=new O;Q.prototype.constructor=Q;Q.prototype.parent=O.prototype;Q.prototype=D.extend(Q.prototype,P);return Q}N=L(Object,{bind:function(P){var O=this;return function(){P.apply(O,arguments)}},init:function(S){var Q,P,T=".select2-results";this.opts=S=this.prepareOpts(S);this.id=S.id;if(S.element.data("select2")!==m&&S.element.data("select2")!==null){S.element.data("select2").destroy()}this.container=this.createContainer();this.containerId="s2id_"+(S.element.attr("id")||"autogen"+a());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=s(function(){return S.element.closest("body")});j(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",S.element.attr("style"));this.container.css(C(S.containerCss));this.container.addClass(C(S.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",A);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");j(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(S.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",A);this.results=Q=this.container.find(T);this.search=P=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",A);J(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",T,this.bind(this.highlightUnderEvent));l(80,this.results);this.dropdown.on("scroll-debounced",T,this.bind(this.loadMoreIfNeeded));D(this.container).on("change",".select2-input",function(U){U.stopPropagation()});D(this.dropdown).on("change",".select2-input",function(U){U.stopPropagation()});if(D.fn.mousewheel){Q.mousewheel(function(X,Y,V,U){var W=Q.scrollTop();if(U>0&&W-U<=0){Q.scrollTop(0);A(X)}else{if(U<0&&Q.get(0).scrollHeight-Q.scrollTop()+U<=Q.height()){Q.scrollTop(Q.get(0).scrollHeight-Q.height());A(X)}}})}F(P);P.on("keyup-change input paste",this.bind(this.updateResults));P.on("focus",function(){P.addClass("select2-focused")});P.on("blur",function(){P.removeClass("select2-focused")});this.dropdown.on("mouseup",T,this.bind(function(U){if(D(U.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(U);this.selectHighlighted(U)}}));this.dropdown.on("click mouseup mousedown",function(U){U.stopPropagation()});if(D.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(S.maximumInputLength!==null){this.search.attr("maxlength",S.maximumInputLength)}var R=S.element.prop("disabled");if(R===m){R=false}this.enable(!R);var O=S.element.prop("readonly");if(O===m){O=false}this.readonly(O);w=w||M();this.autofocus=S.element.prop("autofocus");S.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.nextSearchTerm=m},destroy:function(){var P=this.opts.element,O=P.data("select2");this.close();if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(O!==m){O.container.remove();O.dropdown.remove();P.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){P.attr({tabindex:this.elementTabIndex})}else{P.removeAttr("tabindex")}P.show()}},optionToData:function(O){if(O.is("option")){return{id:O.prop("value"),text:O.text(),element:O.get(),css:O.attr("class"),disabled:O.prop("disabled"),locked:t(O.attr("locked"),"locked")||t(O.data("locked"),true)}}else{if(O.is("optgroup")){return{text:O.attr("label"),children:[],element:O.get(),css:O.attr("class")}}}},prepareOpts:function(T){var R,P,O,S,Q=this;R=T.element;if(R.get(0).tagName.toLowerCase()==="select"){this.select=P=T.element}if(P){D.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in T){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}T=D.extend({},{populateResults:function(U,V,X){var W,Y=this.opts.id;W=function(af,Z,ae){var ag,ab,al,ai,ac,ak,aa,aj,ah,ad;af=T.sortResults(af,Z,X);for(ag=0,ab=af.length;ag<ab;ag=ag+1){al=af[ag];ac=(al.disabled===true);ai=(!ac)&&(Y(al)!==m);ak=al.children&&al.children.length>0;aa=D("<li></li>");aa.addClass("select2-results-dept-"+ae);aa.addClass("select2-result");aa.addClass(ai?"select2-result-selectable":"select2-result-unselectable");if(ac){aa.addClass("select2-disabled")}if(ak){aa.addClass("select2-result-with-children")}aa.addClass(Q.opts.formatResultCssClass(al));aa.attr("role","presentation");aj=D(document.createElement("div"));aj.addClass("select2-result-label");aj.attr("id","select2-result-label-"+a());aj.attr("role","option");ad=T.formatResult(al,aj,X,Q.opts.escapeMarkup);if(ad!==m){aj.html(ad)}aa.append(aj);if(ak){ah=D("<ul></ul>");ah.addClass("select2-result-sub");W(al.children,ah,ae+1);aa.append(ah)}aa.data("select2-data",al);Z.append(aa)}};W(V,U,0)}},D.fn.select2.defaults,T);if(typeof(T.id)!=="function"){O=T.id;T.id=function(U){return U[O]}}if(D.isArray(T.element.data("select2Tags"))){if("tags" in T){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+T.element.attr("id")}T.tags=T.element.data("select2Tags")}if(P){T.query=this.bind(function(Y){var X={results:[],more:false},W=Y.term,V,U,Z;Z=function(aa,ac){var ab;if(aa.is("option")){if(Y.matcher(W,aa.text(),aa)){ac.push(Q.optionToData(aa))}}else{if(aa.is("optgroup")){ab=Q.optionToData(aa);aa.children().each2(function(ad,ae){Z(ae,ab.children)});if(ab.children.length>0){ac.push(ab)}}}};V=R.children();if(this.getPlaceholder()!==m&&V.length>0){U=this.getPlaceholderOption();if(U){V=V.not(U)}}V.each2(function(aa,ab){Z(ab,X.results)});Y.callback(X)});T.id=function(U){return U.id}}else{if(!("query" in T)){if("ajax" in T){S=T.element.data("ajax-url");if(S&&S.length>0){T.ajax.url=S}T.query=E.call(T.element,T.ajax)}else{if("data" in T){T.query=H(T.data)}else{if("tags" in T){T.query=z(T.tags);if(T.createSearchChoice===m){T.createSearchChoice=function(U){return{id:D.trim(U),text:D.trim(U)}}}if(T.initSelection===m){T.initSelection=function(U,W){var V=[];D(i(U.val(),T.separator)).each(function(){var Y={id:this,text:this},X=T.tags;if(D.isFunction(X)){X=X()}D(X).each(function(){if(t(this.id,Y.id)){Y=this;return false}});V.push(Y)});W(V)}}}}}}}if(typeof(T.query)!=="function"){throw"query function not defined for Select2 "+T.element.attr("id")}return T},monitorSource:function(){var P=this.opts.element,Q,O;P.on("change.select2",this.bind(function(R){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));Q=this.bind(function(){var S=P.prop("disabled");if(S===m){S=false}this.enable(!S);var R=P.prop("readonly");if(R===m){R=false}this.readonly(R);j(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(C(this.opts.containerCssClass));j(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(this.opts.dropdownCssClass))});P.on("propertychange.select2",Q);if(this.mutationCallback===m){this.mutationCallback=function(R){R.forEach(Q)}}O=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(O!==m){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new O(this.mutationCallback);this.propertyObserver.observe(P.get(0),{attributes:true,subtree:false})}},triggerSelect:function(P){var O=D.Event("select2-selecting",{val:this.id(P),object:P});this.opts.element.trigger(O);return !O.isDefaultPrevented()},triggerChange:function(O){O=O||{};O=D.extend({},O,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(O);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var O=this._enabled&&!this._readonly,P=!O;if(O===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",P);this.close();this.enabledInterface=O;return true},enable:function(O){if(O===m){O=true}if(this._enabled===O){return}this._enabled=O;this.opts.element.prop("disabled",!O);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(O){if(O===m){O=false}if(this._readonly===O){return false}this._readonly=O;this.opts.element.prop("readonly",O);this.enableInterface();return true},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var Q=this.dropdown,T=this.container.offset(),ac=this.container.outerHeight(false),ad=this.container.outerWidth(false),Y=Q.outerHeight(false),aa=D(window),ah=aa.width(),W=aa.height(),P=aa.scrollLeft()+ah,ag=aa.scrollTop()+W,R=T.top+ac,ae=T.left,O=R+Y<=ag,V=(T.top-Y)>=this.body().scrollTop(),Z=Q.outerWidth(false),aj=ae+Z<=P,ai=Q.hasClass("select2-drop-above"),U,af,S,X,ab;if(ai){af=true;if(!V&&O){S=true;af=false}}else{af=false;if(!O&&V){S=true;af=true}}if(S){Q.hide();T=this.container.offset();ac=this.container.outerHeight(false);ad=this.container.outerWidth(false);Y=Q.outerHeight(false);P=aa.scrollLeft()+ah;ag=aa.scrollTop()+W;R=T.top+ac;ae=T.left;Z=Q.outerWidth(false);aj=ae+Z<=P;Q.show()}if(this.opts.dropdownAutoWidth){ab=D(".select2-results",Q)[0];Q.addClass("select2-drop-auto-width");Q.css("width","");Z=Q.outerWidth(false)+(ab.scrollHeight===ab.clientHeight?0:w.width);Z>ad?ad=Z:Z=ad;aj=ae+Z<=P}else{this.container.removeClass("select2-drop-auto-width")}if(this.body().css("position")!=="static"){U=this.body().offset();R-=U.top;ae-=U.left}if(!aj){ae-=(ae+Z)-P}X={left:ae,width:ad};if(af){X.top=T.top-Y;X.bottom="auto";this.container.addClass("select2-drop-above");Q.addClass("select2-drop-above")}else{X.top=R;X.bottom="auto";this.container.removeClass("select2-drop-above");Q.removeClass("select2-drop-above")}X=D.extend(X,C(this.opts.dropdownCss));Q.css(X)},shouldOpen:function(){var O;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}O=D.Event("select2-opening");this.opts.element.trigger(O);return !O.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();return true},opening:function(){var T=this.containerId,O="scroll."+T,R="resize."+T,Q="orientationchange."+T,P;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}P=D("#select2-drop-mask");if(P.length==0){P=D(document.createElement("div"));P.attr("id","select2-drop-mask").attr("class","select2-drop-mask");P.hide();P.appendTo(this.body());P.on("mousedown touchstart click",function(V){var W=D("#select2-drop"),U;if(W.length>0){U=W.data("select2");if(U.opts.selectOnBlur){U.selectHighlighted({noFocus:true})}U.close({focus:true});V.preventDefault();V.stopPropagation()}})}if(this.dropdown.prev()[0]!==P[0]){this.dropdown.before(P)}D("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");P.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var S=this;this.container.parents().add(window).each(function(){D(this).on(R+" "+O+" "+Q,function(U){S.positionDropdown()})})},close:function(){if(!this.opened()){return}var R=this.containerId,O="scroll."+R,Q="resize."+R,P="orientationchange."+R;this.container.parents().add(window).each(function(){D(this).off(O).off(Q).off(P)});this.clearDropdownAlignmentPreference();D("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(D.Event("select2-close"))},externalSearch:function(O){this.open();this.search.val(O);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var R=this.results,Q,O,V,U,S,T,P;O=this.highlight();if(O<0){return}if(O==0){R.scrollTop(0);return}Q=this.findHighlightableChoices().find(".select2-result-label");V=D(Q[O]);U=V.offset().top+V.outerHeight(true);if(O===Q.length-1){P=R.find("li.select2-more-results");if(P.length>0){U=P.offset().top+P.outerHeight(true)}}S=R.offset().top+R.outerHeight(true);if(U>S){R.scrollTop(R.scrollTop()+(U-S))}T=V.offset().top-R.offset().top;if(T<0&&V.css("display")!="none"){R.scrollTop(R.scrollTop()+T)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(R){var Q=this.findHighlightableChoices(),P=this.highlight();while(P>-1&&P<Q.length){P+=R;var O=D(Q[P]);if(O.hasClass("select2-result-selectable")&&!O.hasClass("select2-disabled")&&!O.hasClass("select2-selected")){this.highlight(P);break}}},highlight:function(P){var R=this.findHighlightableChoices(),O,Q;if(arguments.length===0){return q(R.filter(".select2-highlighted")[0],R.get())}if(P>=R.length){P=R.length-1}if(P<0){P=0}this.removeHighlight();O=D(R[P]);O.addClass("select2-highlighted");this.search.attr("aria-activedescendant",O.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();Q=O.data("select2-data");if(Q){this.opts.element.trigger({type:"select2-highlight",val:this.id(Q),choice:Q})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(P){var O=D(P.target).closest(".select2-result-selectable");if(O.length>0&&!O.is(".select2-highlighted")){var Q=this.findHighlightableChoices();this.highlight(Q.index(O))}else{if(O.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var S=this.results,R=S.find("li.select2-more-results"),U,T=this.resultsPage+1,O=this,Q=this.search.val(),P=this.context;if(R.length===0){return}U=R.offset().top-S.offset().top-S.height();if(U<=this.opts.loadMorePadding){R.addClass("select2-active");this.opts.query({element:this.opts.element,term:Q,page:T,context:P,matcher:this.opts.matcher,callback:this.bind(function(V){if(!O.opened()){return}O.opts.populateResults.call(this,S,V.results,{term:Q,page:T,context:P});O.postprocessResults(V,false,false);if(V.more===true){R.detach().appendTo(S).text(O.opts.formatLoadMore(T+1));window.setTimeout(function(){O.loadMoreIfNeeded()},10)}else{R.remove()}O.positionDropdown();O.resultsPage=T;O.context=V.context;this.opts.element.trigger({type:"select2-loaded",items:V})})})}},tokenize:function(){},updateResults:function(W){var aa=this.search,U=this.results,O=this.opts,T,Z=this,X,S=aa.val(),Q=D.data(this.container,"select2-last-term"),Y;if(W!==true&&Q&&t(S,Q)){return}D.data(this.container,"select2-last-term",S);if(W!==true&&(this.showSearchInput===false||!this.opened())){return}function V(){aa.removeClass("select2-active");Z.positionDropdown()}function P(ab){U.html(ab);V()}Y=++this.queryCount;var R=this.getMaximumSelectionSize();if(R>=1){T=this.data();if(D.isArray(T)&&T.length>=R&&y(O.formatSelectionTooBig,"formatSelectionTooBig")){P("<li class='select2-selection-limit'>"+O.formatSelectionTooBig(R)+"</li>");return}}if(aa.val().length<O.minimumInputLength){if(y(O.formatInputTooShort,"formatInputTooShort")){P("<li class='select2-no-results'>"+O.formatInputTooShort(aa.val(),O.minimumInputLength)+"</li>")}else{P("")}if(W&&this.showSearch){this.showSearch(true)}return}if(O.maximumInputLength&&aa.val().length>O.maximumInputLength){if(y(O.formatInputTooLong,"formatInputTooLong")){P("<li class='select2-no-results'>"+O.formatInputTooLong(aa.val(),O.maximumInputLength)+"</li>")}else{P("")}return}if(O.formatSearching&&this.findHighlightableChoices().length===0){P("<li class='select2-searching'>"+O.formatSearching()+"</li>")}aa.addClass("select2-active");this.removeHighlight();X=this.tokenize();if(X!=m&&X!=null){aa.val(X)}this.resultsPage=1;O.query({element:O.element,term:aa.val(),page:this.resultsPage,context:null,matcher:O.matcher,callback:this.bind(function(ac){var ab;if(Y!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");return}this.context=(ac.context===m)?null:ac.context;if(this.opts.createSearchChoice&&aa.val()!==""){ab=this.opts.createSearchChoice.call(Z,aa.val(),ac.results);if(ab!==m&&ab!==null&&Z.id(ab)!==m&&Z.id(ab)!==null){if(D(ac.results).filter(function(){return t(Z.id(this),Z.id(ab))}).length===0){ac.results.unshift(ab)}}}if(ac.results.length===0&&y(O.formatNoMatches,"formatNoMatches")){P("<li class='select2-no-results'>"+O.formatNoMatches(aa.val())+"</li>");return}U.empty();Z.opts.populateResults.call(this,U,ac.results,{term:aa.val(),page:this.resultsPage,context:null});if(ac.more===true&&y(O.formatLoadMore,"formatLoadMore")){U.append("<li class='select2-more-results'>"+Z.opts.escapeMarkup(O.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){Z.loadMoreIfNeeded()},10)}this.postprocessResults(ac,W);V();this.opts.element.trigger({type:"select2-loaded",items:ac})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){I(this.search)},selectHighlighted:function(P){var O=this.highlight(),Q=this.results.find(".select2-highlighted"),R=Q.closest(".select2-result").data("select2-data");if(R){this.highlight(O);this.onSelect(R,P)}else{if(P&&P.noFocus){this.close()}}},getPlaceholder:function(){var O;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((O=this.getPlaceholderOption())!==m?O.text():m)},getPlaceholderOption:function(){if(this.select){var O=this.select.children("option").first();if(this.opts.placeholderOption!==m){return(this.opts.placeholderOption==="first"&&O)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(O.text()===""&&O.val()===""){return O}}}},initContainerWidth:function(){function P(){var U,S,V,T,R,Q;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){U=this.opts.element.attr("style");if(U!==m){S=U.split(";");for(T=0,R=S.length;T<R;T=T+1){Q=S[T].replace(/\s/g,"");V=Q.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(V!==null&&V.length>=1){return V[1]}}}if(this.opts.width==="resolve"){U=this.opts.element.css("width");if(U.indexOf("%")>0){return U}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(D.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var O=P.call(this);if(O!==null){this.container.css("width",O)}}});x=L(N,{createContainer:function(){var O=D(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' title='Search field' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return O},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var Q,P,O;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}this.search.focus();Q=this.search.get(0);if(Q.createTextRange){P=Q.createTextRange();P.collapse(false);P.select()}else{if(Q.setSelectionRange){O=this.search.val().length;Q.setSelectionRange(O,O)}}if(this.search.val()===""){if(this.nextSearchTerm!=m){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(D.Event("select2-open"))},close:function(O){if(!this.opened()){return}this.parent.close.apply(this,arguments);O=O||{focus:true};this.focusser.removeAttr("disabled");if(O.focus){this.focusser.focus()}},focus:function(){if(this.opened()){this.close()}else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){D("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var R,O=this.container,T=this.dropdown,S=a(),Q;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=R=O.find(".select2-choice");this.focusser=O.find(".select2-focusser");R.find(".select2-chosen").attr("id","select2-chosen-"+S);this.focusser.attr("aria-labelledby","select2-chosen-"+S);this.results.attr("id","select2-results-"+S);this.search.attr("aria-owns","select2-results-"+S);this.focusser.attr("id","s2id_autogen"+S);Q=D("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));var P=this.opts.element.attr("title");this.opts.element.attr("title",(P||Q.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(U){if(!this.isInterfaceEnabled()){return}if(U.which===K.PAGE_UP||U.which===K.PAGE_DOWN){A(U);return}switch(U.which){case K.UP:case K.DOWN:this.moveHighlight((U.which===K.UP)?-1:1);A(U);return;case K.ENTER:this.selectHighlighted();A(U);return;case K.TAB:this.selectHighlighted({noFocus:true});return;case K.ESC:this.cancel(U);A(U);return}}));this.search.on("blur",this.bind(function(U){if(document.activeElement===this.body().get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus()}}),0)}}));this.focusser.on("keydown",this.bind(function(U){if(!this.isInterfaceEnabled()){return}if(U.which===K.TAB||K.isControl(U)||K.isFunctionKey(U)||U.which===K.ESC){return}if(this.opts.openOnEnter===false&&U.which===K.ENTER){A(U);return}if(U.which==K.DOWN||U.which==K.UP||(U.which==K.ENTER&&this.opts.openOnEnter)){if(U.altKey||U.ctrlKey||U.shiftKey||U.metaKey){return}this.open();A(U);return}if(U.which==K.DELETE||U.which==K.BACKSPACE){if(this.opts.allowClear){this.clear()}A(U);return}}));F(this.focusser);this.focusser.on("keyup-change input",this.bind(function(U){if(this.opts.minimumResultsForSearch>=0){U.stopPropagation();if(this.opened()){return}this.open()}}));R.on("mousedown","abbr",this.bind(function(U){if(!this.isInterfaceEnabled()){return}this.clear();b(U);this.close();this.selection.focus()}));R.on("mousedown",this.bind(function(U){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(D.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}A(U)}));T.on("mousedown",this.bind(function(){this.search.focus()}));R.on("focus",this.bind(function(U){A(U)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(D.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(D.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(D.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(Q){var R=this.selection.data("select2-data");if(R){var P=D.Event("select2-clearing");this.opts.element.trigger(P);if(P.isDefaultPrevented()){return}var O=this.getPlaceholderOption();this.opts.element.val(O?O.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(Q!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(R),choice:R});this.triggerChange({removed:R})}}},initSelection:function(){var P;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var O=this;this.opts.initSelection.call(null,this.opts.element,function(Q){if(Q!==m&&Q!==null){O.updateSelection(Q);O.close();O.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var O;if(!this.getPlaceholder()){return false}return((O=this.getPlaceholderOption())!==m&&O.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===m)||(this.opts.element.val()===null)},prepareOpts:function(){var P=this.parent.prepareOpts.apply(this,arguments),O=this;if(P.element.get(0).tagName.toLowerCase()==="select"){P.initSelection=function(Q,S){var R=Q.find("option").filter(function(){return this.selected});S(O.optionToData(R))}}else{if("data" in P){P.initSelection=P.initSelection||function(R,T){var S=R.val();var Q=null;P.query({matcher:function(U,X,V){var W=t(S,P.id(V));if(W){Q=V}return W},callback:!D.isFunction(T)?D.noop:function(){T(Q)}})}}}return P},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===m){return m}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var O=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&O!==m){if(this.select&&this.getPlaceholderOption()===m){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(O));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(T,P,S){var R=0,O=this,U=true;this.findHighlightableChoices().each2(function(V,W){if(t(O.id(W.data("select2-data")),O.opts.element.val())){R=V;return false}});if(S!==false){if(P===true&&R>=0){this.highlight(R)}else{this.highlight(0)}}if(P===true){var Q=this.opts.minimumResultsForSearch;if(Q>=0){this.showSearch(r(T.results)>=Q)}}},showSearch:function(O){if(this.showSearchInput===O){return}this.showSearchInput=O;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!O);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!O);D(this.dropdown,this.container).toggleClass("select2-with-searchbox",O)},onSelect:function(Q,P){if(!this.triggerSelect(Q)){return}var O=this.opts.element.val(),R=this.data();this.opts.element.val(this.id(Q));this.updateSelection(Q);this.opts.element.trigger({type:"select2-selected",val:this.id(Q),choice:Q});this.nextSearchTerm=this.opts.nextSearchTerm(Q,this.search.val());this.close();if(!P||!P.noFocus){this.focusser.focus()}if(!t(O,this.id(Q))){this.triggerChange({added:Q,removed:R})}},updateSelection:function(R){var P=this.selection.find(".select2-chosen"),Q,O;this.selection.data("select2-data",R);P.empty();if(R!==null){Q=this.opts.formatSelection(R,P,this.opts.escapeMarkup)}if(Q!==m){P.append(Q)}O=this.opts.formatSelectionCssClass(R,P);if(O!==m){P.addClass(O)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==m){this.container.addClass("select2-allowclear")}},val:function(){var S,P=false,Q=null,O=this,R=this.data();if(arguments.length===0){return this.opts.element.val()}S=arguments[0];if(arguments.length>1){P=arguments[1]}if(this.select){this.select.val(S).find("option").filter(function(){return this.selected}).each2(function(T,U){Q=O.optionToData(U);return false});this.updateSelection(Q);this.setPlaceholder();if(P){this.triggerChange({added:Q,removed:R})}}else{if(!S&&S!==0){this.clear(P);return}if(this.opts.initSelection===m){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(S);this.opts.initSelection(this.opts.element,function(T){O.opts.element.val(!T?"":O.id(T));O.updateSelection(T);O.setPlaceholder();if(P){O.triggerChange({added:T,removed:R})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(Q){var P,O=false;if(arguments.length===0){P=this.selection.data("select2-data");if(P==m){P=null}return P}else{if(arguments.length>1){O=arguments[1]}if(!Q){this.clear(O)}else{P=this.data();this.opts.element.val(!Q?"":this.id(Q));this.updateSelection(Q);if(O){this.triggerChange({added:Q,removed:P})}}}}});c=L(N,{createContainer:function(){var O=D(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return O},prepareOpts:function(){var P=this.parent.prepareOpts.apply(this,arguments),O=this;if(P.element.get(0).tagName.toLowerCase()==="select"){P.initSelection=function(Q,S){var R=[];Q.find("option").filter(function(){return this.selected}).each2(function(T,U){R.push(O.optionToData(U))});S(R)}}else{if("data" in P){P.initSelection=P.initSelection||function(Q,T){var R=i(Q.val(),P.separator);var S=[];P.query({matcher:function(U,X,V){var W=D.grep(R,function(Y){return t(Y,P.id(V))}).length;if(W){S.push(V)}return W},callback:!D.isFunction(T)?D.noop:function(){var U=[];for(var X=0;X<R.length;X++){var Y=R[X];for(var W=0;W<S.length;W++){var V=S[W];if(t(Y,P.id(V))){U.push(V);S.splice(W,1);break}}}T(U)}})}}}return P},selectChoice:function(O){var P=this.container.find(".select2-search-choice-focus");if(P.length&&O&&O[0]==P[0]){}else{if(P.length){this.opts.element.trigger("choice-deselected",P)}P.removeClass("select2-search-choice-focus");if(O&&O.length){this.close();O.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",O)}}},destroy:function(){D("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var O=".select2-choices",P;this.searchContainer=this.container.find(".select2-search-field");this.selection=P=this.container.find(O);var Q=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(R){Q.search[0].focus();Q.selectChoice(D(this))});this.search.attr("id","s2id_autogen"+a());D("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(V){if(!this.isInterfaceEnabled()){return}++this.keydowns;var T=P.find(".select2-search-choice-focus");var U=T.prev(".select2-search-choice:not(.select2-locked)");var S=T.next(".select2-search-choice:not(.select2-locked)");var W=f(this.search);if(T.length&&(V.which==K.LEFT||V.which==K.RIGHT||V.which==K.BACKSPACE||V.which==K.DELETE||V.which==K.ENTER)){var R=T;if(V.which==K.LEFT&&U.length){R=U}else{if(V.which==K.RIGHT){R=S.length?S:null}else{if(V.which===K.BACKSPACE){this.unselect(T.first());this.search.width(10);R=U.length?U:S}else{if(V.which==K.DELETE){this.unselect(T.first());this.search.width(10);R=S.length?S:null}else{if(V.which==K.ENTER){R=null}}}}}this.selectChoice(R);A(V);if(!R||!R.length){this.open()}return}else{if(((V.which===K.BACKSPACE&&this.keydowns==1)||V.which==K.LEFT)&&(W.offset==0&&!W.length)){this.selectChoice(P.find(".select2-search-choice:not(.select2-locked)").last());A(V);return}else{this.selectChoice(null)}}if(this.opened()){switch(V.which){case K.UP:case K.DOWN:this.moveHighlight((V.which===K.UP)?-1:1);A(V);return;case K.ENTER:this.selectHighlighted();A(V);return;case K.TAB:this.selectHighlighted({noFocus:true});this.close();return;case K.ESC:this.cancel(V);A(V);return}}if(V.which===K.TAB||K.isControl(V)||K.isFunctionKey(V)||V.which===K.BACKSPACE||V.which===K.ESC){return}if(V.which===K.ENTER){if(this.opts.openOnEnter===false){return}else{if(V.altKey||V.ctrlKey||V.shiftKey||V.metaKey){return}}}this.open();if(V.which===K.PAGE_UP||V.which===K.PAGE_DOWN){A(V)}if(V.which===K.ENTER){A(V)}}));this.search.on("keyup",this.bind(function(R){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(R){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}R.stopImmediatePropagation();this.opts.element.trigger(D.Event("select2-blur"))}));this.container.on("click",O,this.bind(function(R){if(!this.isInterfaceEnabled()){return}if(D(R.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(D.Event("select2-focus"))}this.open();this.focusSearch();R.preventDefault()}));this.container.on("focus",O,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(D.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var P;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var O=this;this.opts.initSelection.call(null,this.opts.element,function(Q){if(Q!==m&&Q!==null){O.updateSelection(Q);O.close();O.clearSearch()}})}},clearSearch:function(){var P=this.getPlaceholder(),O=this.getMaxSearchWidth();if(P!==m&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(P).addClass("select2-default");this.search.width(O>0?O:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(true);this.search.focus();this.opts.element.trigger(D.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(R){var Q=[],P=[],O=this;D(R).each(function(){if(q(O.id(this),Q)<0){Q.push(O.id(this));P.push(this)}});R=P;this.selection.find(".select2-search-choice").remove();D(R).each(function(){O.addSelectedChoice(this)});O.postprocessResults()},tokenize:function(){var O=this.search.val();O=this.opts.tokenizer.call(this,O,this.data(),this.bind(this.onSelect),this.opts);if(O!=null&&O!=m){this.search.val(O);if(O.length>0){this.open()}}},onSelect:function(P,O){if(!this.triggerSelect(P)){return}this.addSelectedChoice(P);this.opts.element.trigger({type:"selected",val:this.id(P),choice:P});if(this.select||!this.opts.closeOnSelect){this.postprocessResults(P,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:P});if(!O||!O.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(S){var U=!S.locked,Q=D("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),V=D("<li class='select2-search-choice select2-locked'><div></div></li>");var R=U?Q:V,O=this.id(S),P=this.getVal(),T,W;T=this.opts.formatSelection(S,R.find("div"),this.opts.escapeMarkup);if(T!=m){R.find("div").replaceWith("<div>"+T+"</div>")}W=this.opts.formatSelectionCssClass(S,R.find("div"));if(W!=m){R.addClass(W)}if(U){R.find(".select2-search-choice-close").on("mousedown",A).on("click dblclick",this.bind(function(X){if(!this.isInterfaceEnabled()){return}D(X.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(D(X.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();A(X)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}R.data("select2-data",S);R.insertBefore(this.searchContainer);P.push(O);this.setVal(P)},unselect:function(Q){var S=this.getVal(),R,P;Q=Q.closest(".select2-search-choice");if(Q.length===0){throw"Invalid argument: "+Q+". Must be .select2-search-choice"}R=Q.data("select2-data");if(!R){return}while((P=q(this.id(R),S))>=0){S.splice(P,1);this.setVal(S);if(this.select){this.postprocessResults()}}var O=D.Event("select2-removing");O.val=this.id(R);O.choice=R;this.opts.element.trigger(O);if(O.isDefaultPrevented()){return}Q.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(R),choice:R});this.triggerChange({removed:R})},postprocessResults:function(S,P,R){var T=this.getVal(),U=this.results.find(".select2-result"),Q=this.results.find(".select2-result-with-children"),O=this;U.each2(function(W,V){var X=O.id(V.data("select2-data"));if(q(X,T)>=0){V.addClass("select2-selected");V.find(".select2-result-selectable").addClass("select2-selected")}});Q.each2(function(W,V){if(!V.is(".select2-result-selectable")&&V.find(".select2-result-selectable:not(.select2-selected)").length===0){V.addClass("select2-selected")}});if(this.highlight()==-1&&R!==false){O.highlight(0)}if(!this.opts.createSearchChoice&&!U.filter(".select2-result:not(.select2-selected)").length>0){if(!S||S&&!S.more&&this.results.find(".select2-no-results").length===0){if(y(O.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+O.opts.formatNoMatches(O.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-h(this.search)},resizeSearch:function(){var T,R,Q,O,P,S=h(this.search);T=n(this.search)+10;R=this.search.offset().left;Q=this.selection.width();O=this.selection.offset().left;P=Q-(R-O)-S;if(P<T){P=Q-S}if(P<40){P=Q-S}if(P<=0){P=T}this.search.width(Math.floor(P))},getVal:function(){var O;if(this.select){O=this.select.val();return O===null?[]:O}else{O=this.opts.element.val();return i(O,this.opts.separator)}},setVal:function(P){var O;if(this.select){this.select.val(P)}else{O=[];D(P).each(function(){if(q(this,O)<0){O.push(this)}});this.opts.element.val(O.length===0?"":O.join(this.opts.separator))}},buildChangeDetails:function(O,R){var R=R.slice(0),O=O.slice(0);for(var Q=0;Q<R.length;Q++){for(var P=0;P<O.length;P++){if(t(this.opts.id(R[Q]),this.opts.id(O[P]))){R.splice(Q,1);if(Q>0){Q--}O.splice(P,1);P--}}}return{added:R,removed:O}},val:function(R,P){var Q,O=this;if(arguments.length===0){return this.getVal()}Q=this.data();if(!Q.length){Q=[]}if(!R&&R!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(P){this.triggerChange({added:this.data(),removed:Q})}return}this.setVal(R);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(P){this.triggerChange(this.buildChangeDetails(Q,this.data()))}}else{if(this.opts.initSelection===m){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(T){var S=D.map(T,O.id);O.setVal(S);O.updateSelection(T);O.clearSearch();if(P){O.triggerChange(O.buildChangeDetails(Q,O.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var P=[],O=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){P.push(O.opts.id(D(this).data("select2-data")))});this.setVal(P);this.triggerChange()},data:function(Q,R){var P=this,S,O;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return D(this).data("select2-data")}).get()}else{O=this.data();if(!Q){Q=[]}S=D.map(Q,function(T){return P.opts.id(T)});this.setVal(S);this.updateSelection(Q);this.clearSearch();if(R){this.triggerChange(this.buildChangeDetails(O,this.data()))}}}});D.fn.select2=function(){var T=Array.prototype.slice.call(arguments,0),P,S,O,V,X,W=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],U=["opened","isFocused","container","dropdown"],Q=["val","data"],R={search:"externalSearch"};this.each(function(){if(T.length===0||typeof(T[0])==="object"){P=T.length===0?{}:D.extend({},T[0]);P.element=D(this);if(P.element.get(0).tagName.toLowerCase()==="select"){X=P.element.prop("multiple")}else{X=P.multiple||false;if("tags" in P){P.multiple=X=true}}S=X?new c():new x();S.init(P)}else{if(typeof(T[0])==="string"){if(q(T[0],W)<0){throw"Unknown method: "+T[0]}V=m;S=D(this).data("select2");if(S===m){return}O=T[0];if(O==="container"){V=S.container}else{if(O==="dropdown"){V=S.dropdown}else{if(R[O]){O=R[O]}V=S[O].apply(S,T.slice(1))}}if(q(T[0],U)>=0||(q(T[0],Q)&&T.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+T}}});return(V===m)?this:V};D.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(P,Q,S,O){var R=[];u(P.text,S.term,R,O);return R.join("")},formatSelection:function(Q,P,O){return Q?O(Q.text):m},sortResults:function(P,O,Q){return P},formatResultCssClass:function(O){return O.css},formatSelectionCssClass:function(P,O){return m},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(O,P){var Q=P-O.length;return"Please enter "+Q+" more character"+(Q==1?"":"s")},formatInputTooLong:function(P,O){var Q=P.length-O;return"Please delete "+Q+" character"+(Q==1?"":"s")},formatSelectionTooBig:function(O){return"You can only select "+O+" item"+(O==1?"":"s")},formatLoadMore:function(O){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(O){return O.id},matcher:function(O,P){return e(""+P).toUpperCase().indexOf(e(""+O).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:g,escapeMarkup:G,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(O){return O},adaptDropdownCssClass:function(O){return null},nextSearchTerm:function(O,P){return m}};D.fn.select2.ajaxDefaults={transport:D.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:E,local:H,tags:z},util:{debounce:k,markMatch:u,escapeMarkup:G,stripDiacritics:e},"class":{"abstract":N,single:x,multi:c}}}(jQuery));

$(document).ready(function(){var a={success:showResponseAbonnement,clearForm:false,resetForm:false};$("#formAbonnement").ajaxForm(a)});function showResponseAbonnement(b,c,d,a){$("#formAbonnement").html(b)};
function jeVote(){$("#jeVote > button").click(function(){typeOpinion=this.id;idAvis=document.getElementById("inputIdAvis").value;url=Routing.generate("mind_media_opinion_vote",{idAvis:idAvis,typeOpinion:typeOpinion});$.ajax({type:"POST",url:url,cache:false,success:function(a){$("#messageVote").html(a)}});return false})}$(function(){jeVote()});

function addImages(){};
$(document).ready(function(){var a={success:showResponseDomaine,clearForm:true,resetForm:true};$("#formAddDomaine").ajaxForm(a)});function showResponseDomaine(c,d,e,a){var b=Routing.generate("mind_admin_domaine");window.location=b};
$(document).ready(function(){var a={success:showResponseAvatar,delegation:true,clearForm:true,resetForm:true};$("#formAvatar").ajaxForm(a)});function showResponseAvatar(b,c,d,a){$("#divAvatar").html(b)};
$(document).ready(function(){var b={success:showResponseEditInfos,type:"POST",clearForm:true,resetForm:true,delegation:true};var a={success:showResponseEditInfosLocalisation,type:"POST",clearForm:true,resetForm:true,delegation:true};var c={success:showResponseEditParametresConnexion,type:"POST",clearForm:true,resetForm:true,delegation:true};$("#formInfosPersosCompteEdit").ajaxForm(b);$("#formInfosPersosLocalisationCompteEdit").ajaxForm(a);$("#formParametresConnexionCompteEdit").ajaxForm(c)});function showResponseEditInfos(b,c,d,a){$("#informationsPersonelles").html(b)}function showResponseEditInfosLocalisation(b,c,d,a){$("#localisation").html(b)}function showResponseEditParametresConnexion(b,c,d,a){$("#parametresConnexion").html(b)}function annulerEditInfos(b){var a=Routing.generate("mind_user_compte_render_replace",{idReplace:b});$.ajax({type:"GET",url:a,cache:false,success:function(c){$("#"+b).html(c)}});return false}function hoverBlockEditClick(b,c){parentContainer=document.getElementById(c);$("#"+c).removeClass("hoverBlock");$("#"+c).css({"background-color":"#77B5FE"});switch(b){case"informationsPersonelles":var a=Routing.generate("mind_user_compte_edit_infos_persos");$.ajax({type:"GET",url:a,cache:false,success:function(d){$("#"+b).html(d)}});break;case"localisation":var a=Routing.generate("mind_user_compte_edit_localisation");$.ajax({type:"GET",url:a,cache:false,success:function(d){$("#"+b).html(d)}});break;case"parametresConnexion":var a=Routing.generate("mind_user_compte_edit_parametres_connexion");$.ajax({type:"GET",url:a,cache:false,success:function(d){$("#"+b).html(d)}});break}return false}function hoverBlock(){$(".hoverBlock").hover(function(){blockParentContainerId=this.id;blockId="#"+blockParentContainerId+" > .hoverHeaderTop > .blockEdit ";hoverEdit=blockId;$(this).css({"background-color":"#77B5FE"});$(blockId).removeClass("hide")},function(){$(this).css({"background-color":"#FFF"});$(blockId).addClass("hide")})}$(function(){hoverBlock()});
function clickSousDomaine(){idRadio2="#mind_sitebundle_domainetype_niveau_0";idRadio1="#mind_sitebundle_domainetype_niveau_1";$(idRadio1).click(function(){$("#listeDomaineSup").removeClass("hide");$("#mind_sitebundle_domainetype_domaineSup").attr("required","required")});$(idRadio1).click(function(){$("#listeDomaineSup").removeClass("hide");$("#mind_sitebundle_domainetype_domaineSup").attr("required","required");alert(valeur=document.getElementById("#mind_sitebundle_domainetype_domaineSup").options[select.selectedIndex].value);$("#isNotDomainePrincipale").attr("value",valeur)});$(idRadio2).click(function(){$("#listeDomaineSup").addClass("hide");$("#mind_sitebundle_domainetype_domaineSup").removeAttr("required")})}function addDomaineUn(){$("#formAddDomaineUn").submit(function(){$.ajax({type:"POST",url:"{{ path('mind_admin_domaine')}}",cache:false,success:function(a){$(".domaineUn").html(a)}});return false})}$(function(){$("ul.domaineUn").sortable()});
!function(c,f,e){var g,a="sortable",h={drag:true,drop:true,exclude:"",nested:true,vertical:true},n={afterMove:function(t,d){},containerSelector:"ol, ul",distance:0,handle:"",itemSelector:"li",isValidTarget:function(t,d){return true},onCancel:function(t,d,u){},onDrag:function(t,d,u){t.css(d)},onDragStart:function(t,d,u){t.css({height:t.height(),width:t.width()});t.addClass("dragged");c("body").addClass("dragging")},onDrop:function(t,d,u){t.removeClass("dragged").removeAttr("style");c("body").removeClass("dragging")},onMousedown:function(d,u,t){u.preventDefault()},placeholder:'<li class="placeholder"/>',pullPlaceholder:true,serialize:function(v,u,t){var d=c.extend({},v.data());if(t){return u}else{if(u[0]){d.children=u;delete d.subContainer}}delete d.sortable;return d},tolerance:0},q={},k=0;if("ontouchstart" in f){g={start:"touchstart.sortable",end:"touchend.sortable touchcancel.sortable",move:"touchmove.sortable"}}else{g={start:"mousedown.sortable",end:"mouseup.sortable",move:"mousemove.sortable"}}function r(u,t){var d=Math.max(0,u[0]-t[0],t[0]-u[1]),v=Math.max(0,u[2]-t[1],t[1]-u[3]);return d+v}function s(v,u,t){var d=v.slice((t||u)+1||v.length);v.length=u<0?v.length+u:u;return v.push.apply(v,d)}function m(y,w,u){var t=y.length,d=u?"offset":"position";while(t--){var v=y[t].el?y[t].el:c(y[t]),x=v[d]();w[t]=[x.left,x.left+v.outerWidth(true),x.top,x.top+v.outerHeight(true)]}}function b(u,d){var t=d.offset();return{left:u.left-t.left,top:u.top-t.top}}function p(v,x,u){x=[x.left,x.top];u=u&&[u.left,u.top];var w,t=v.length,d=[];while(t--){w=v[t];d[t]=[t,r(w,x),u&&r(w,u)]}d=d.sort(function(z,y){return y[1]-z[1]||y[2]-z[2]||y[0]-z[0]});return d}function o(x,t,y,d){var v=x.find(t),w=v.length;while(w--){var u=v.eq(w).data(a);if(u){u[y](d)}}}function l(d){this.options=c.extend({},n,d);this.containers=[];this.childGroups=[];this.scrolledProxy=c.proxy(this.scrolled,this);this.dragProxy=c.proxy(this.drag,this);this.dropProxy=c.proxy(this.drop,this);if(this.options.parentGroup){this.options.parentGroup.childGroups.push(this)}else{this.placeholder=c(this.options.placeholder);if(!d.isValidTarget){this.options.isValidTarget=e}}}l.get=function(d){if(!q[d.group]){if(!d.group){d.group=k++}q[d.group]=new l(d)}return q[d.group]};l.prototype={dragInit:function(t,d){this.$document=c(d.el[0].ownerDocument);this.toggleListeners("on");this.item=c(t.target).closest(this.options.itemSelector);this.itemContainer=d;this.setPointer(t);this.options.onMousedown(this.item,t,n.onMousedown)},drag:function(w){if(!this.dragging){if(!this.distanceMet(w)){return}o(this.item,this.options.containerSelector,"disable",true);this.options.onDragStart(this.item,this.itemContainer,n.onDragStart);this.item.before(this.placeholder);this.dragging=true}this.setPointer(w);this.options.onDrag(this.item,b(this.pointer,this.item.offsetParent()),n.onDrag);var d=w.pageX,z=w.pageY,v=this.sameResultBox,u=this.options.tolerance;if(!v||v.top-u>z||v.bottom+u<z||v.left-u>d||v.right+u<d){if(!this.searchValidTarget()){this.placeholder.detach()}}},drop:function(d){this.toggleListeners("off");if(this.dragging){if(this.placeholder.closest("html")[0]){this.placeholder.before(this.item).detach()}else{this.options.onCancel(this.item,this.itemContainer,n.onCancel)}this.options.onDrop(this.item,this.getContainer(this.item),n.onDrop);o(this.item,this.options.containerSelector,"enable",true);this.clearDimensions();this.clearOffsetParent();this.lastAppendedItem=this.sameResultBox=e;this.dragging=false}this.item=e},searchValidTarget:function(y,w){if(!y){y=this.relativePointer||this.pointer;w=this.lastRelativePointer||this.lastPointer}var t=p(this.getContainerDimensions(),y,w),v=t.length;while(v--){var u=t[v][0],z=t[v][1];if(!z||this.options.pullPlaceholder){var d=this.containers[u];if(!this.$getOffsetParent()){var x=d.getItemOffsetParent();y=b(y,x);w=b(w,x)}if(d.searchValidTarget(y,w)){return true}}}},movePlaceholder:function(t,u,w,d){var v=this.lastAppendedItem;if(!d&&v&&v[0]===u[0]){return}u[w](this.placeholder);this.lastAppendedItem=u;this.sameResultBox=d;this.options.afterMove(this.placeholder,t)},getContainerDimensions:function(){if(!this.containerDimensions){m(this.containers,this.containerDimensions=[],!this.$getOffsetParent())}return this.containerDimensions},getContainer:function(d){return d.closest(this.options.containerSelector).data(a)},$getOffsetParent:function(){if(this.offsetParent===e){var d=this.containers.length-1,t=this.containers[d].getItemOffsetParent();if(!this.options.parentGroup){while(d--){if(t[0]!=this.containers[d].getItemOffsetParent()[0]){t=false;break}}}this.offsetParent=t}return this.offsetParent},clearOffsetParent:function(){this.offsetParent=e},setPointer:function(t){var u={left:t.pageX,top:t.pageY};if(this.$getOffsetParent()){var d=b(u,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer;this.relativePointer=d}this.lastPointer=this.pointer;this.pointer=u},distanceMet:function(d){return(Math.max(Math.abs(this.pointer.left-d.pageX),Math.abs(this.pointer.top-d.pageY))>=this.options.distance)},addContainer:function(d){this.containers.push(d)},removeContainer:function(d){var t=c.inArray(d,this.containers);t!==-1&&s(this.containers,t)},scrolled:function(d){this.clearDimensions();this.clearOffsetParent()},toggleListeners:function(d){this.$document[d](g.move,this.dragProxy)[d](g.end,this.dropProxy)[d]("scroll.sortable",this.scrolledProxy)},clearDimensions:function(){this.containerDimensions=e;var d=this.containers.length;while(d--){this.containers[d].itemDimensions=e}d=this.childGroups.length;while(d--){this.childGroups[d].clearDimensions()}}};function i(t,d){this.el=t;this.childGroups=[];this.floatRight=false;this.dragInitProxy=c.proxy(this.dragInit,this);this.options=c.extend({},h,d);this.group=l.get(this.options);this.rootGroup=this.options.rootGroup=this.options.rootGroup||this.group;this.parentGroup=this.options.parentGroup=this.options.parentGroup||this.group;this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;this.enable(true)}i.prototype={dragInit:function(t){var d=this.rootGroup;if(!d.item&&t.which===1&&this.options.drag&&!c(t.target).is(this.options.exclude)){d.dragInit(t,this)}},searchValidTarget:function(d,u){var x=p(this.getItemDimensions(),d,u),v=x.length,y=this.rootGroup,z=!y.options.isValidTarget||y.options.isValidTarget(y.item,this);if(!v&&z){y.movePlaceholder(this,this.el,"append");return true}else{while(v--){var w=x[v][0],t=x[v][1];if(!t&&this.options.nested&&this.getContainerGroup(w)){var A=this.getContainerGroup(w).searchValidTarget(d,u);if(A){return true}}else{if(z){this.movePlaceholder(w,d);return true}}}}},movePlaceholder:function(A,t){var E=c(this.items[A]),z=this.itemDimensions[A],d="after",u=E.outerWidth(),D=E.outerHeight(),y=E.offset(),v={left:y.left,right:y.left+u,top:y.top,bottom:y.top+D};if(this.options.vertical){var C=(z[2]+z[3])/2,B=t.top<=C;if(B){d="before";v.bottom-=D/2}else{v.top+=D/2}}else{var w=(z[0]+z[1])/2,x=t.left<=w;if(x!=this.floatRight){d="before";v.right-=u/2}else{v.left+=u/2}}this.rootGroup.movePlaceholder(this,E,d,v)},getItemDimensions:function(){if(!this.itemDimensions){this.items=this.$getChildren(this.el,"item").filter(":not(.dragged)").get();m(this.items,this.itemDimensions=[])}return this.itemDimensions},getItemOffsetParent:function(){var t,d=this.el;if(d.css("position")==="relative"||d.css("position")==="absolute"||d.css("position")==="fixed"){t=d}else{t=d.offsetParent()}return t},getContainerGroup:function(u){var v=c.data(this.items[u],"subContainer");if(v===e){var t=this.$getChildren(this.items[u],"container");v=false;if(t[0]){var d=c.extend({},this.options,{parentGroup:this.group,group:k++});v=t[a](d).data(a).group}c.data(this.items[u],"subContainer",v)}return v},$getChildren:function(t,d){return c(t).children(this.rootGroup.options[d+"Selector"])},_serialize:function(v,u){var w=this,d=u?"item":"container",t=this.$getChildren(v,d).not(this.options.exclude).map(function(){return w._serialize(c(this),!u)}).get();return this.rootGroup.options.serialize(v,t,u)}};var j={enable:function(d){if(this.options.drop){this.group.addContainer(this)}if(!d){o(this.el,this.options.containerSelector,"enable",true)}this.el.on(g.start,this.handle,this.dragInitProxy)},disable:function(d){if(this.options.drop){this.group.removeContainer(this)}if(!d){o(this.el,this.options.containerSelector,"disable",true)}this.el.off(g.start)},serialize:function(){return this._serialize(this.el,true)}};c.extend(i.prototype,j);c.fn[a]=function(d){var t=Array.prototype.slice.call(arguments,1);return this.map(function(){var v=c(this),u=v.data(a);if(u&&j[d]){return j[d].apply(u,t)||this}else{if(!u&&(d===e||typeof d==="object")){v.data(a,new i(v,d))}}return this})}}(jQuery,window);
!function(c){var b=function(e,d){this.init("tooltip",e,d)};b.prototype={constructor:b,init:function(k,h,f){var l,d,j,e,g;this.type=k;this.$element=c(h);this.options=this.getOptions(f);this.enabled=true;j=this.options.trigger.split(" ");for(g=j.length;g--;){e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){l=e=="hover"?"mouseenter":"focus";d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(d){d=c.extend({},c.fn[this.type].defaults,this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d},enter:function(h){var g=c.fn[this.type].defaults,f={},d;this._options&&c.each(this._options,function(e,i){if(g[e]!=i){f[e]=i}},this);d=c(h.currentTarget)[this.type](f).data(this.type);if(!d.options.delay||!d.options.delay.show){return d.show()}clearTimeout(this.timeout);d.hoverState="in";this.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)},leave:function(f){var d=c(f.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.hoverState="out";this.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)},show:function(){var i,k,g,j,d,h,f=c.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;i.detach().css({top:0,left:0,display:"block"});this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);k=this.getPosition();g=i[0].offsetWidth;j=i[0].offsetHeight;switch(d){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}this.applyPlacement(h,d);this.$element.trigger("shown")}},applyPlacement:function(g,h){var i=this.tip(),e=i[0].offsetWidth,l=i[0].offsetHeight,d,j,k,f;i.offset(g).addClass(h).addClass("in");d=i[0].offsetWidth;j=i[0].offsetHeight;if(h=="top"&&j!=l){g.top=g.top+l-j;f=true}if(h=="bottom"||h=="top"){k=0;if(g.left<0){k=g.left*-2;g.left=0;i.offset(g);d=i[0].offsetWidth;j=i[0].offsetHeight}this.replaceArrow(k-e+d,d,"left")}else{this.replaceArrow(j-l,j,"top")}if(f){i.offset(g)}},replaceArrow:function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")},setContent:function(){var e=this.tip(),d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")},hide:function(){var d=this,g=this.tip(),f=c.Event("hide");this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.removeClass("in");function h(){var e=setTimeout(function(){g.off(c.support.transition.end).detach()},500);g.one(c.support.transition.end,function(){clearTimeout(e);g.detach()})}c.support.transition&&this.$tip.hasClass("fade")?h():g.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())},getTitle:function(){var f,d=this.$element,e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var d=f?c(f.currentTarget)[this.type](this._options).data(this.type):this;d.tip().hasClass("in")?d.hide():d.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this),f=g.data("tooltip"),e=typeof d=="object"&&d;if(!f){g.data("tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);$(document).ready(function(){$(".libelle").editable({placement:"right",success:function(a,b){$("#messageAlert").html(a.message);if(a.status=="error"){return a.msg}}})});$(function(){$(".parent").editable({placement:"right",mode:"inline",success:function(a,b){$("#messageAlert").html(a.message);if(a.status=="error"){return a.msg}},emptytext:"id du domaine parent"})});
!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);
!function(d){var c='[data-dismiss="alert"]',b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(j){var i=d(this),g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=d(g);j&&j.preventDefault();h.length||(h=i.hasClass("alert")?i:i.parent());h.trigger(j=d.Event("close"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}d.support.transition&&h.hasClass("fade")?h.on(d.support.transition.end,f):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this),f=g.data("alert");if(!f){g.data("alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.alert.data-api",c,b.prototype.close)}(window.jQuery);
!function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},c.fn.button.defaults,d)};b.prototype.setState=function(g){var i="disabled",e=this.$element,f=e.data(),h=e.is("input")?"val":"html";g=g+"Text";f.resetText||e.data("resetText",e[h]());e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(i).attr(i,i):e.removeClass(i).removeAttr(i)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons-radio"]');d&&d.find(".active").removeClass("active");this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this),f=g.data("button"),e=typeof d=="object"&&d;if(!f){g.data("button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.defaults={loadingText:"loading..."};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle")})}(window.jQuery);
!function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.prototype={cycle:function(d){if(!d){this.paused=false}if(this.interval){clearInterval(this.interval)}this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(f){var d=this.getActiveIndex(),e=this;if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))},pause:function(d){if(!d){this.paused=true}if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(k,f){var m=this.$element.find(".item.active"),d=f||m[k](),j=this.interval,l=k=="next"?"left":"right",g=k=="next"?"first":"last",h=this,i;this.sliding=true;j&&this.pause();d=d.length?d:this.$element.find(".item")[g]();i=b.Event("slide",{relatedTarget:d[0],direction:l});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented()){return}d.addClass(k);d[0].offsetWidth;m.addClass(l);d.addClass(l);this.$element.one(b.support.transition.end,function(){d.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)})}else{this.$element.trigger(i);if(i.isDefaultPrevented()){return}m.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this}};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this),g=h.data("carousel"),e=b.extend({},b.fn.carousel.defaults,typeof d=="object"&&d),f=typeof d=="string"?d:e.slide;if(!g){h.data("carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.defaults={interval:5000,pause:"hover"};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(j){var i=b(this),f,d=b(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),g=b.extend({},d.data(),i.data()),h;d.carousel(g);if(h=i.attr("data-slide-to")){d.data("carousel").pause().to(h).cycle()}j.preventDefault()})}(window.jQuery);
!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.collapse.defaults,d);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var d=this.$element.hasClass("width");return d?"width":"height"},show:function(){var g,d,f,e;if(this.transitioning||this.$element.hasClass("in")){return}g=this.dimension();d=b.camelCase(["scroll",g].join("-"));f=this.$parent&&this.$parent.find("> .accordion-group > .in");if(f&&f.length){e=f.data("collapse");if(e&&e.transitioning){return}f.collapse("hide");e||f.data("collapse",null)}this.$element[g](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[g](this.$element[0][d])},hide:function(){var d;if(this.transitioning||!this.$element.hasClass("in")){return}d=this.dimension();this.reset(this.$element[d]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[d](0)},reset:function(d){var e=this.dimension();this.$element.removeClass("collapse")[e](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(h,e,f){var g=this,d=function(){if(e.type=="show"){g.reset()}g.transitioning=0;g.$element.trigger(f)};this.$element.trigger(e);if(e.isDefaultPrevented()){return}this.transitioning=1;this.$element[h]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,d):d()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this),f=g.data("collapse"),e=b.extend({},b.fn.collapse.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(i){var h=b(this),d,g=h.attr("data-target")||i.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=b(g).data("collapse")?"toggle":h.data();h[b(g).hasClass("in")?"addClass":"removeClass"]("collapsed");b(g).collapse(f)})}(window.jQuery);
!function(f){var b="[data-toggle=dropdown]",a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var i=f(this),h,g;if(i.is(".disabled, :disabled")){return}h=e(i);g=h.hasClass("open");d();if(!g){if("ontouchstart" in document.documentElement){f('<div class="dropdown-backdrop"/>').insertBefore(f(this)).on("click",d)}h.toggleClass("open")}i.focus();return false},keydown:function(l){var k,m,g,j,i,h;if(!/(38|40|27)/.test(l.keyCode)){return}k=f(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}j=e(k);i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){if(l.which==27){j.find(b).focus()}return k.click()}m=f("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()}};function d(){f(".dropdown-backdrop").remove();f(b).each(function(){e(f(this)).removeClass("open")})}function e(i){var g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&/#/.test(g)&&g.replace(/.*(?=#[^\s]*$)/,"")}h=g&&f(g);if(!h||!h.length){h=i.parent()}return h}var c=f.fn.dropdown;f.fn.dropdown=function(g){return this.each(function(){var i=f(this),h=i.data("dropdown");if(!h){i.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.dropdown.Constructor=a;f.fn.dropdown.noConflict=function(){f.fn.dropdown=c;return this};f(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(g){g.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);
!function(c){var b=function(e,d){this.options=d;this.$element=c(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",c.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var d=this,f=c.Event("show");this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var e=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(e){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();e?d.$element.one(c.support.transition.end,function(){d.$element.focus().trigger("shown")}):d.$element.focus().trigger("shown")})},hide:function(f){f&&f.preventDefault();var d=this;f=c.Event("hide");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);c.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var d=this;c(document).on("focusin.modal",function(f){if(d.$element[0]!==f.target&&!d.$element.has(f.target).length){d.$element.focus()}})},escape:function(){var d=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(f){f.which==27&&d.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var d=this,e=setTimeout(function(){d.$element.off(c.support.transition.end);d.hideModal()},500);this.$element.one(c.support.transition.end,function(){clearTimeout(e);d.hideModal()})},hideModal:function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(g){var f=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?c.proxy(this.$element[0].focus,this.$element[0]):c.proxy(this.hide,this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g):g()}else{if(g){g()}}}}};var a=c.fn.modal;c.fn.modal=function(d){return this.each(function(){var g=c(this),f=g.data("modal"),e=c.extend({},c.fn.modal.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("modal",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}else{if(e.show){f.show()}}})};c.fn.modal.defaults={backdrop:true,keyboard:true,show:true};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.modal.data-api",'[data-toggle="modal"]',function(i){var h=c(this),f=h.attr("href"),d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,""))),g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());i.preventDefault();d.modal(g).one("hide",function(){h.focus()})})}(window.jQuery);
!function(c){var b=function(e,d){this.init("tooltip",e,d)};b.prototype={constructor:b,init:function(k,h,f){var l,d,j,e,g;this.type=k;this.$element=c(h);this.options=this.getOptions(f);this.enabled=true;j=this.options.trigger.split(" ");for(g=j.length;g--;){e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){l=e=="hover"?"mouseenter":"focus";d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(d){d=c.extend({},c.fn[this.type].defaults,this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d},enter:function(h){var g=c.fn[this.type].defaults,f={},d;this._options&&c.each(this._options,function(e,i){if(g[e]!=i){f[e]=i}},this);d=c(h.currentTarget)[this.type](f).data(this.type);if(!d.options.delay||!d.options.delay.show){return d.show()}clearTimeout(this.timeout);d.hoverState="in";this.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)},leave:function(f){var d=c(f.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.hoverState="out";this.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)},show:function(){var i,k,g,j,d,h,f=c.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;i.detach().css({top:0,left:0,display:"block"});this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);k=this.getPosition();g=i[0].offsetWidth;j=i[0].offsetHeight;switch(d){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}this.applyPlacement(h,d);this.$element.trigger("shown")}},applyPlacement:function(g,h){var i=this.tip(),e=i[0].offsetWidth,l=i[0].offsetHeight,d,j,k,f;i.offset(g).addClass(h).addClass("in");d=i[0].offsetWidth;j=i[0].offsetHeight;if(h=="top"&&j!=l){g.top=g.top+l-j;f=true}if(h=="bottom"||h=="top"){k=0;if(g.left<0){k=g.left*-2;g.left=0;i.offset(g);d=i[0].offsetWidth;j=i[0].offsetHeight}this.replaceArrow(k-e+d,d,"left")}else{this.replaceArrow(j-l,j,"top")}if(f){i.offset(g)}},replaceArrow:function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")},setContent:function(){var e=this.tip(),d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")},hide:function(){var d=this,g=this.tip(),f=c.Event("hide");this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.removeClass("in");function h(){var e=setTimeout(function(){g.off(c.support.transition.end).detach()},500);g.one(c.support.transition.end,function(){clearTimeout(e);g.detach()})}c.support.transition&&this.$tip.hasClass("fade")?h():g.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())},getTitle:function(){var f,d=this.$element,e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var d=f?c(f.currentTarget)[this.type](this._options).data(this.type):this;d.tip().hasClass("in")?d.hide():d.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this),f=g.data("tooltip"),e=typeof d=="object"&&d;if(!f){g.data("tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);
!function(c){var b=function(e,d){this.init("popover",e,d)};b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var f=this.tip(),e=this.getTitle(),d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,d=this.$element,f=this.options;e=(typeof f.content=="function"?f.content.call(d[0]):f.content)||d.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this),f=g.data("popover"),e=typeof d=="object"&&d;if(!f){g.data("popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);
!function(c){function b(g,f){var h=c.proxy(this.process,this),d=c(g).is("body")?c(window):c(g),e;this.options=c.extend({},c.fn.scrollspy.defaults,f);this.$scrollElement=d.on("scroll.scroll-spy.data-api",h);this.selector=(this.options.target||((e=c(g).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=c("body");this.refresh();this.process()}b.prototype={constructor:b,refresh:function(){var d=this,e;this.offsets=c([]);this.targets=c([]);e=this.$body.find(this.selector).map(function(){var g=c(this),f=g.data("target")||g.attr("href"),h=/^#\w/.test(f)&&c(f);return(h&&h.length&&[[h.position().top+(!c.isWindow(d.$scrollElement.get(0))&&d.$scrollElement.scrollTop()),f]])||null}).sort(function(g,f){return g[0]-f[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})},process:function(){var j=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,h=f-this.$scrollElement.height(),g=this.offsets,d=this.targets,k=this.activeTarget,e;if(j>=h){return k!=(e=d.last()[0])&&this.activate(e)}for(e=g.length;e--;){k!=d[e]&&j>=g[e]&&(!g[e+1]||j<=g[e+1])&&this.activate(d[e])}},activate:function(f){var e,d;this.activeTarget=f;c(this.selector).parent(".active").removeClass("active");d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';e=c(d).parent("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")}};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this),f=g.data("scrollspy"),e=typeof d=="object"&&d;if(!f){g.data("scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.defaults={offset:10};c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);
!function(c){var b=function(d){this.element=c(d)};b.prototype={constructor:b,show:function(){var j=this.element,g=j.closest("ul:not(.dropdown-menu)"),f=j.attr("data-target"),h,d,i;if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}h=g.find(".active:last a")[0];i=c.Event("show",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}d=c(f);this.activate(j.parent("li"),g);this.activate(d,d.parent(),function(){j.trigger({type:"shown",relatedTarget:h})})},activate:function(f,e,i){var d=e.find("> .active"),h=i&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?d.one(c.support.transition.end,g):g();d.removeClass("in")}};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this),e=f.data("tab");if(!e){f.data("tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);
!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.typeahead.defaults,d);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=b(this.options.menu);this.shown=false;this.listen()};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},show:function(){var d=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var d;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}d=b.isFunction(this.source)?this.source(this.query,b.proxy(this.process,this)):this.source;return d?this.process(d):this},process:function(d){var e=this;d=b.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}return this.render(d.slice(0,this.options.items)).show()},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var g=[],e=[],d=[],h;while(h=f.shift()){if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(h)}else{if(~h.indexOf(this.query)){e.push(h)}else{d.push(h)}}}return g.concat(e,d)},highlighter:function(d){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+e+")","ig"),function(f,g){return"<strong>"+g+"</strong>"})},render:function(d){var e=this;d=b(d).map(function(f,g){f=b(e.options.item).attr("data-value",g);f.find("a").html(e.highlighter(g));return f[0]});d.first().addClass("active");this.$menu.html(d);return this},next:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.next();if(!d.length){d=b(this.$menu.find("li")[0])}d.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.prev();if(!d.length){d=this.$menu.find("li").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},eventSupported:function(d){var e=d in this.$element;if(!e){this.$element.setAttribute(d,"return;");e=typeof this.$element[d]==="function"}return e},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);this.move(d)},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){this.focused=true},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(d){return this.each(function(){var g=b(this),f=g.data("typeahead"),e=typeof d=="object"&&d;if(!f){g.data("typeahead",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}d.typeahead(d.data())})}(window.jQuery);
!function(c){var b=function(e,d){this.options=c.extend({},c.fn.affix.defaults,d);this.$window=c(window).on("scroll.affix.data-api",c.proxy(this.checkPosition,this)).on("click.affix.data-api",c.proxy(function(){setTimeout(c.proxy(this.checkPosition,this),1)},this));this.$element=c(e);this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var h=c(document).height(),j=this.$window.scrollTop(),d=this.$element.offset(),k=this.options.offset,f=k.bottom,g=k.top,i="affix affix-top affix-bottom",e;if(typeof k!="object"){f=g=k}if(typeof g=="function"){g=k.top()}if(typeof f=="function"){f=k.bottom()}e=this.unpin!=null&&(j+this.unpin<=d.top)?false:f!=null&&(d.top+this.$element.height()>=h-f)?"bottom":g!=null&&j<=g?"top":false;if(this.affixed===e){return}this.affixed=e;this.unpin=e=="bottom"?d.top-j:null;this.$element.removeClass(i).addClass("affix"+(e?"-"+e:""))};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this),f=g.data("affix"),e=typeof d=="object"&&d;if(!f){g.data("affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.defaults={offset:0};c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this),d=e.data();d.offset=d.offset||{};d.offsetBottom&&(d.offset.bottom=d.offsetBottom);d.offsetTop&&(d.offset.top=d.offsetTop);e.affix(d)})})}(window.jQuery);
/*! X-editable - v1.5.0 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
!function(d){var c=function(a,e){this.options=d.extend({},d.fn.editableform.defaults,e),this.$div=d(a),this.options.scope||(this.options.scope=this)};c.prototype={constructor:c,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=d(d.fn.editableform.template)},initButtons:function(){var a=this.$form.find(".editable-buttons");a.append(d.fn.editableform.buttons),"bottom"===this.options.showbuttons&&a.addClass("editable-buttons-bottom")},render:function(){this.$loading=d(d.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),d.when(this.input.render()).then(d.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(d.proxy(this.cancel,this)),this.input.error){this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(b){b.preventDefault()})}else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var a=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(a),this.$form.submit(d.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var f,e;this.$form?(f=this.$form.outerWidth(),e=this.$form.outerHeight(),f&&this.$loading.width(f),e&&this.$loading.height(e),this.$form.hide()):(f=this.$loading.parent().width(),f&&this.$loading.width(f)),this.$loading.show()},showForm:function(b){this.$loading.hide(),this.$form.show(),b!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(a){var j,i=this.$form.find(".control-group"),h=this.$form.find(".editable-error-block");if(a===!1){i.removeClass(d.fn.editableform.errorGroupClass),h.removeClass(d.fn.editableform.errorBlockClass).empty().hide()}else{if(a){j=a.split("\n");for(var g=0;g<j.length;g++){j[g]=d("<div>").text(j[g]).html()}a=j.join("<br>")}i.addClass(d.fn.editableform.errorGroupClass),h.addClass(d.fn.editableform.errorBlockClass).html(a).show()}},submit:function(a){a.stopPropagation(),a.preventDefault();var h,g=this.input.input2value();if(h=this.validate(g)){return this.error(h),this.showForm(),void 0}if(!this.options.savenochange&&this.input.value2str(g)==this.input.value2str(this.value)){return this.$div.triggerHandler("nochange"),void 0}var f=this.input.value2submit(g);this.isSaving=!0,d.when(this.save(f)).done(d.proxy(function(i){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,i,g):null;return e===!1?(this.error(!1),this.showForm(!1),void 0):"string"==typeof e?(this.error(e),this.showForm(),void 0):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(g=e.newValue),this.error(!1),this.value=g,this.$div.triggerHandler("save",{newValue:g,submitValue:f,response:i}),void 0)},this)).fail(d.proxy(function(i){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,i,g):"string"==typeof i?i:i.responseText||i.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(a){this.options.pk=d.fn.editableutils.tryParseJson(this.options.pk,!0);var h,g="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,f=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==g&&void 0!==g));return f?(this.showLoading(),h={name:this.options.name||"",value:a,pk:g},"function"==typeof this.options.params?h=this.options.params.call(this.options.scope,h):(this.options.params=d.fn.editableutils.tryParseJson(this.options.params,!0),d.extend(h,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,h):d.ajax(d.extend({url:this.options.url,data:h,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(b){return void 0===b&&(b=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,b):void 0},option:function(f,e){f in this.options&&(this.options[f]=e),"value"===f&&this.setValue(e)},setValue:function(f,e){this.value=e?this.input.str2value(f):f,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},d.fn.editableform=function(b){var a=arguments;return this.each(function(){var j=d(this),i=j.data("editableform"),h="object"==typeof b&&b;i||j.data("editableform",i=new c(this,h)),"string"==typeof b&&i[b].apply(i,Array.prototype.slice.call(a,1))})},d.fn.editableform.Constructor=c,d.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},d.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',d.fn.editableform.loading='<div class="editableform-loading"></div>',d.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',d.fn.editableform.errorGroupClass=null,d.fn.editableform.errorBlockClass="editable-error",d.fn.editableform.engine="jquery"}(window.jQuery),function(b){b.fn.editableutils={inherit:function(e,d){var f=function(){};f.prototype=d.prototype,e.prototype=new f,e.prototype.constructor=e,e.superclass=d.prototype},setCursorPosition:function(e,d){if(e.setSelectionRange){e.setSelectionRange(d,d)}else{if(e.createTextRange){var f=e.createTextRange();f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",d),f.select()}}},tryParseJson:function(e,d){if("string"==typeof e&&e.length&&e.match(/^[\{\[].*[\}\]]$/)){if(d){try{e=new Function("return "+e)()}catch(f){}finally{return e}}else{e=new Function("return "+e)()}}return e},sliceObj:function(a,n,m){var l,k,j={};if(!b.isArray(n)||!n.length){return j}for(var i=0;i<n.length;i++){l=n[i],a.hasOwnProperty(l)&&(j[l]=a[l]),m!==!0&&(k=l.toLowerCase(),a.hasOwnProperty(k)&&(j[l]=a[k]))}return j},getConfigData:function(a){var d={};return b.each(a.data(),function(e,c){("object"!=typeof c||c&&"object"==typeof c&&(c.constructor===Object||c.constructor===Array))&&(d[e]=c)}),d},objectKeys:function(e){if(Object.keys){return Object.keys(e)}if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var d,f=[];for(d in e){Object.prototype.hasOwnProperty.call(e,d)&&f.push(d)}return f},escape:function(a){return b("<div>").text(a).html()},itemsByValue:function(a,n,m){if(!n||null===a){return[]}if("function"!=typeof m){var l=m||"value";m=function(c){return c[l]}}var k=b.isArray(a),j=[],i=this;return b.each(n,function(g,f){if(f.children){j=j.concat(i.itemsByValue(a,f.children,m))}else{if(k){b.grep(a,function(c){return c==(f&&"object"==typeof f?m(f):f)}).length&&j.push(f)}else{var d=f&&"object"==typeof f?m(f):f;a==d&&j.push(f)}}}),j},createInput:function(a){var j,i,h,g=a.type;return"date"===g&&("inline"===a.mode?b.fn.editabletypes.datefield?g="datefield":b.fn.editabletypes.dateuifield&&(g="dateuifield"):b.fn.editabletypes.date?g="date":b.fn.editabletypes.dateui&&(g="dateui"),"date"!==g||b.fn.editabletypes.date||(g="combodate")),"datetime"===g&&"inline"===a.mode&&(g="datetimefield"),"wysihtml5"!==g||b.fn.editabletypes[g]||(g="textarea"),"function"==typeof b.fn.editabletypes[g]?(j=b.fn.editabletypes[g],i=this.sliceObj(a,this.objectKeys(j.defaults)),h=new j(i)):(b.error("Unknown type: "+g),!1)},supportsTransitions:function(){var g=document.body||document.documentElement,f=g.style,j="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof f[j]){return !0}j=j.charAt(0).toUpperCase()+j.substr(1);for(var h=0;h<i.length;h++){if("string"==typeof f[i[h]+j]){return !0}}return !1}}}(window.jQuery),function(e){var d=function(g,c){this.init(g,c)},f=function(g,c){this.init(g,c)};d.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(b,a){this.$element=e(b),this.options=e.extend({},e.fn.editableContainer.defaults,a),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",e.proxy(function(){this.destroy()},this)),e(document).data("editable-handlers-attached")||(e(document).on("keyup.editable",function(c){27===c.which&&e(".editable-open").editableContainer("hide")}),e(document).on("click.editable",function(j){var i,h=e(j.target),g=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(e.contains(document.documentElement,j.target)&&!h.is(document)){for(i=0;i<g.length;i++){if(h.is(g[i])||h.parents(g[i]).length){return}}d.prototype.closeOthers(j.target)}}),e(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!e.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var a in this.options){a in this.defaults?this.containerOptions[a]=this.options[a]:this.formOptions[a]=this.options[a]}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var b;return this.containerDataName&&(b=this.$element.data(this.containerDataName))?b:b=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(a){this.$element.addClass("editable-open"),a!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=e("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(b){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving){return this.delayedHide={reason:b},void 0}this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",b||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(b){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(b)},setPosition:function(){},save:function(g,c){this.$element.triggerHandler("save",c),this.hide("save")},option:function(g,c){this.options[g]=c,g in this.containerOptions?(this.containerOptions[g]=c,this.setContainerOption(g,c)):(this.formOptions[g]=c,this.$form&&this.$form.editableform("option",g,c))},setContainerOption:function(g,c){this.call("option",g,c)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){e(".editable-open").each(function(i,h){if(h!==a&&!e(h).find(a).length){var g=e(h),b=g.data("editableContainer");b&&("cancel"===b.options.onblur?g.data("editableContainer").hide("onblur"):"submit"===b.options.onblur&&g.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},e.fn.editableContainer=function(b){var a=arguments;return this.each(function(){var n=e(this),m="editableContainer",l=n.data(m),k="object"==typeof b&&b,c="inline"===k.mode?f:d;l||n.data(m,l=new c(this,k)),"string"==typeof b&&l[b].apply(l,Array.prototype.slice.call(a,1))})},e.fn.editableContainer.Popup=d,e.fn.editableContainer.Inline=f,e.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(b){b.handler&&b.handler()}}}(window.jQuery),function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=b("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.editable.defaults,e,d.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!d.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};c.prototype={constructor:c,init:function(){var a,e=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=d.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(d.trim(this.$element.html())),e=!0):(this.options.value=d.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",d.proxy(function(g){if(this.options.disabled||g.preventDefault(),"mouseenter"===this.options.toggle){this.show()}else{var f="click"!==this.options.toggle;this.toggle(f)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":a=!0;break;case"auto":a=!d.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!e;break;default:a=!1}d.when(a?this.render():!0).then(d.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var a=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",a,d.proxy(function(e){var f=d(e.target);f.data("editable")||(f.hasClass(this.options.emptyclass)&&f.empty(),f.editable(this.options).trigger(e))},this))},render:function(b){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,b):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,b):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(a,e){return a&&"object"==typeof a?(d.each(a,d.proxy(function(f,g){this.option(d.trim(f),g)},this)),void 0):(this.options[a]=e,"disabled"===a?e?this.disable():this.enable():("value"===a&&this.setValue(e),this.container&&this.container.option(a,e),this.input.option&&this.input.option(a,e),void 0))},handleEmpty:function(a){this.options.display!==!1&&(this.isEmpty=void 0!==a?a:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===d.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(a){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible")){return}}else{var e=d.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e),this.$element.on("save.internal",d.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(a)}},hide:function(){this.container&&this.container.hide()},toggle:function(b){this.container&&this.container.tip().is(":visible")?this.hide():this.show(b)},save:function(g,f){if(this.options.unsavedclass){var j=!1;j=j||"function"==typeof this.options.url,j=j||this.options.display===!1,j=j||void 0!==f.response,j=j||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(f.newValue),j?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,h=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===h&&(h=""),i.css("background-color",h),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(f.newValue,!1,f.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(a,f,e){this.value=f?this.input.str2value(a):a,this.container&&this.container.option("value",this.value),d.when(this.render(e)).then(d.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},d.fn.editable=function(p){var o={},n=arguments,m="editable";switch(p){case"validate":return this.each(function(){var f,h=d(this),g=h.data(m);g&&(f=g.validate())&&(o[g.options.name]=f)}),o;case"getValue":return 2===arguments.length&&arguments[1]===!0?o=this.eq(0).data(m).value:this.each(function(){var e=d(this),f=e.data(m);f&&void 0!==f.value&&null!==f.value&&(o[f.options.name]=f.input.value2submit(f.value))}),o;case"submit":var l,k=arguments[1]||{},b=this,a=this.editable("validate");return d.isEmptyObject(a)?(l=this.editable("getValue"),k.data&&d.extend(l,k.data),d.ajax(d.extend({url:k.url,data:l,type:"POST"},k.ajaxOptions)).success(function(e){"function"==typeof k.success&&k.success.call(b,e,k)}).error(function(){"function"==typeof k.error&&k.error.apply(b,arguments)})):"function"==typeof k.error&&k.error.call(b,a),this}return this.each(function(){var i=d(this),f=i.data(m),e="object"==typeof p&&p;return e&&e.selector?(f=new c(this,e),void 0):(f||i.data(m,f=new c(this,e)),"string"==typeof p&&f[p].apply(f,Array.prototype.slice.call(n,1)),void 0)})},d.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(d){d.fn.editabletypes={};var c=function(){};c.prototype={init:function(a,f,e){this.type=a,this.options=d.extend({},e,f)},prerender:function(){this.$tpl=d(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(a,e){d(e)[this.options.escape?"text":"html"](d.trim(a))},html2value:function(a){return d("<div>").html(a).text()},value2str:function(b){return b},str2value:function(b){return b},value2submit:function(b){return b},value2input:function(b){this.$input.val(b)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(a){return d("<div>").text(a).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(b){void 0!==this.options[b]&&null!==this.options[b]&&this.$input.attr(b,this.options[b])},option:function(f,e){this.options[f]=e}},c.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},d.extend(d.fn.editabletypes,{abstractinput:c})}(window.jQuery),function(d){var c=function(){};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){var a=d.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),a.resolve()},function(){this.error=this.options.sourceError,a.resolve()}),a.promise()},html2value:function(){return null},value2html:function(a,l,k,j){var i=d.Deferred(),h=function(){"function"==typeof k?k.call(l,a,this.sourceData,j):this.value2htmlFinal(a,l),i.resolve()};return null===a?h.call(this):this.onSourceReady(h,function(){i.resolve()}),i.promise()},onSourceReady:function(a,n){var m;if(d.isFunction(this.options.source)?(m=this.options.source.call(this.options.scope),this.sourceData=null):m=this.options.source,this.options.sourceCache&&d.isArray(this.sourceData)){return a.call(this),void 0}try{m=d.fn.editableutils.tryParseJson(m,!1)}catch(l){return n.call(this),void 0}if("string"==typeof m){if(this.options.sourceCache){var k,j=m;if(d(document).data(j)||d(document).data(j,{}),k=d(document).data(j),k.loading===!1&&k.sourceData){return this.sourceData=k.sourceData,this.doPrepend(),a.call(this),void 0}if(k.loading===!0){return k.callbacks.push(d.proxy(function(){this.sourceData=k.sourceData,this.doPrepend(),a.call(this)},this)),k.err_callbacks.push(d.proxy(n,this)),void 0}k.loading=!0,k.callbacks=[],k.err_callbacks=[]}var i=d.extend({url:m,type:"get",cache:!1,dataType:"json",success:d.proxy(function(b){k&&(k.loading=!1),this.sourceData=this.makeArray(b),d.isArray(this.sourceData)?(k&&(k.sourceData=this.sourceData,d.each(k.callbacks,function(){this.call()})),this.doPrepend(),a.call(this)):(n.call(this),k&&d.each(k.err_callbacks,function(){this.call()}))},this),error:d.proxy(function(){n.call(this),k&&(k.loading=!1,d.each(k.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);d.ajax(i)}else{this.sourceData=this.makeArray(m),d.isArray(this.sourceData)?(this.doPrepend(),a.call(this)):n.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(d.isArray(this.prependData)||(d.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=d.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),d.isArray(this.prependData)&&d.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(a){var n,m,l,k,j=[];if(!a||"string"==typeof a){return null}if(d.isArray(a)){k=function(f,e){return m={value:f,text:e},n++>=2?!1:void 0};for(var i=0;i<a.length;i++){l=a[i],"object"==typeof l?(n=0,d.each(l,k),1===n?j.push(m):n>1&&(l.children&&(l.children=this.makeArray(l.children)),j.push(l))):j.push({value:l,text:l})}}else{d.each(a,function(f,e){j.push({value:f,text:e})})}return j},option:function(f,e){this.options[f]=e,"source"===f&&(this.sourceData=null),"prepend"===f&&(this.prependData=null)}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),d.fn.editabletypes.list=c}(window.jQuery),function(d){var c=function(b){this.init("text",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),d.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=d('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(d.proxy(function(a){if(!~d.inArray(a.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(a)},100)}},this)).parent().css("position","relative"),this.$clear.click(d.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var f=this.$input.val().length,e=this.$clear.is(":visible");f&&!e&&this.$clear.show(),!f&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),d.fn.editabletypes.text=c}(window.jQuery),function(d){var c=function(b){this.init("textarea",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(a){a.ctrlKey&&13===a.which&&d(this).closest("form").submit()})},activate:function(){d.fn.editabletypes.text.prototype.activate.call(this)}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),d.fn.editabletypes.textarea=c}(window.jQuery),function(d){var c=function(b){this.init("select",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list),d.extend(c.prototype,{renderList:function(){this.$input.empty();var a=function(i,h){var g;if(d.isArray(h)){for(var b=0;b<h.length;b++){g={},h[b].children?(g.label=h[b].text,i.append(a(d("<optgroup>",g),h[b].children))):(g.value=h[b].value,h[b].disabled&&(g.disabled=!0),i.append(d("<option>",g).text(h[b].text)))}}return i};a(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&d(this).closest("form").submit()})},value2htmlFinal:function(a,h){var g="",f=d.fn.editableutils.itemsByValue(a,this.sourceData);f.length&&(g=f[0].text),d.fn.editabletypes.abstractinput.prototype.value2html.call(this,g,h)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){d(this).closest("form").submit()})}}),c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),d.fn.editabletypes.select=c}(window.jQuery),function(d){var c=function(b){this.init("checklist",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list),d.extend(c.prototype,{renderList:function(){var a;if(this.$tpl.empty(),d.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++){a=d("<label>").append(d("<input>",{type:"checkbox",value:this.sourceData[e].value})).append(d("<span>").text(" "+this.sourceData[e].text)),d("<div>").append(a).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(a){return d.isArray(a)?a.sort().join(d.trim(this.options.separator)):""},str2value:function(a){var f,e=null;return"string"==typeof a&&a.length?(f=new RegExp("\\s*"+d.trim(this.options.separator)+"\\s*"),e=a.split(f)):e=d.isArray(a)?a:[a],e},value2input:function(a){this.$input.prop("checked",!1),d.isArray(a)&&a.length&&this.$input.each(function(g,f){var b=d(f);d.each(a,function(h,e){b.val()==e&&b.prop("checked",!0)})})},input2value:function(){var a=[];return this.$input.filter(":checked").each(function(e,b){a.push(d(b).val())}),a},value2htmlFinal:function(a,j){var i=[],h=d.fn.editableutils.itemsByValue(a,this.sourceData),g=this.options.escape;h.length?(d.each(h,function(f,l){var k=g?d.fn.editableutils.escape(l.text):l.text;i.push(k)}),d(j).html(i.join("<br>"))):d(j).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(a){13===a.which&&d(this).closest("form").submit()})}}),c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),d.fn.editabletypes.checklist=c}(window.jQuery),function(d){var c=function(b){this.init("password",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text),d.extend(c.prototype,{value2html:function(a,e){a?d(e).text("[hidden]"):d(e).empty()},html2value:function(){return null}}),c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),d.fn.editabletypes.password=c}(window.jQuery),function(d){var c=function(b){this.init("email",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text),c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),d.fn.editabletypes.email=c}(window.jQuery),function(d){var c=function(b){this.init("url",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text),c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),d.fn.editabletypes.url=c}(window.jQuery),function(d){var c=function(b){this.init("tel",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text),c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),d.fn.editabletypes.tel=c}(window.jQuery),function(d){var c=function(b){this.init("number",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text),d.extend(c.prototype,{render:function(){c.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),d.fn.editabletypes.number=c}(window.jQuery),function(d){var c=function(b){this.init("range",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.number),d.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){d(this).siblings("output").text(d(this).val())})},activate:function(){this.$input.focus()}}),c.defaults=d.extend({},d.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),d.fn.editabletypes.range=c}(window.jQuery),function(d){var c=function(b){this.init("time",b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){this.setClass()}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),d.fn.editabletypes.time=c}(window.jQuery),function(d){var c=function(f){if(this.init("select2",f,c.defaults),f.select2=f.select2||{},this.sourceData=null,f.placeholder&&(f.select2.placeholder=f.placeholder),!f.select2.tags&&f.source){var b=f.source;d.isFunction(f.source)&&(b=f.source.call(f.scope)),"string"==typeof b?(f.select2.ajax=f.select2.ajax||{},f.select2.ajax.data||(f.select2.ajax.data=function(e){return{query:e}}),f.select2.ajax.results||(f.select2.ajax.results=function(e){return{results:e}}),f.select2.ajax.url=b):(this.sourceData=this.convertSource(b),f.select2.data=this.sourceData)}if(this.options.select2=d.extend({},c.defaults.select2,f.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax" in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var a=this.idFunc||"id";this.idFunc=function(e){return e[a]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",d.proxy(function(b){this.sourceData=b.items.results},this)),this.isMultiple&&this.$input.on("change",function(){d(this).closest("form").parent().triggerHandler("resize")})},value2html:function(j,i){var h,b="",a=this;this.options.select2.tags?h=j:this.sourceData&&(h=d.fn.editableutils.itemsByValue(j,this.sourceData,this.idFunc)),d.isArray(h)?(b=[],d.each(h,function(f,e){b.push(e&&"object"==typeof e?a.formatSelection(e):e)})):h&&(b=a.formatSelection(h)),b=d.isArray(b)?b.join(this.options.viewseparator):b,c.superclass.value2html.call(this,b,i)},html2value:function(b){return this.options.select2.tags?this.str2value(b,this.options.viewseparator):null},value2input:function(a){if(this.$input.data("select2")?this.$input.val(a).trigger("change",!0):(this.$input.val(a),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var h=this.options.select2.id,g=this.options.select2.formatSelection;if(!h&&!g){var f={id:a,text:d(this.options.scope).text()};this.$input.select2("data",f)}}},input2value:function(){return this.$input.select2("val")},str2value:function(a,j){if("string"!=typeof a||!this.isMultiple){return a}j=j||this.options.select2.separator||d.fn.select2.defaults.separator;var i,h,g;if(null===a||a.length<1){return null}for(i=a.split(j),h=0,g=i.length;g>h;h+=1){i[h]=d.trim(i[h])}return i},autosubmit:function(){this.$input.on("change",function(a,e){e||d(this).closest("form").submit()})},convertSource:function(a){if(d.isArray(a)&&a.length&&void 0!==a[0].value){for(var e=0;e<a.length;e++){void 0!==a[e].value&&(a[e].id=a[e].value,delete a[e].value)}}return a},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),d.fn.editabletypes.select2=c}(window.jQuery),function(d){var c=function(a,e){return this.$element=d(a),this.$element.is("input")?(this.options=d.extend({},d.fn.combodate.defaults,e,this.$element.data()),this.init(),void 0):(d.error("Combodate should be applied to INPUT element"),void 0)};c.prototype={constructor:c,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=d('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",d.proxy(function(){this.$element.val(this.getValue())},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template;return d.each(this.map,function(b,h){h=h[0];var g=new RegExp(h+"+"),f=h.length>1?h.substring(1,2):h;a=a.replace(g,"{"+f+"}")}),a=a.replace(/ /g,"&nbsp;"),d.each(this.map,function(b,f){f=f[0];var e=f.length>1?f.substring(1,2):f;a=a.replace("{"+e+"}",'<select class="'+b+'"></select>')}),a},initCombos:function(){var a=this;d.each(this.map,function(b){var h,g,f=a.$widget.find("."+b);f.length&&(a["$"+b]=f,h="fill"+b.charAt(0).toUpperCase()+b.slice(1),g=a[h](),a["$"+b].html(a.renderItems(g)))})},initItems:function(f){var e,h=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var g="function"==typeof e[f]?e[f](1,!0,f,!1):e[f];g=g.split(" ").reverse()[0],h.push(["",g])}else{"empty"===this.options.firstItem&&h.push(["",""])}return h},renderItems:function(f){for(var e=[],g=0;g<f.length;g++){e.push('<option value="'+f[g][0]+'">'+f[g][1]+"</option>")}return e.join("\n")},fillDay:function(){var f,e,h=this.initItems("d"),g=-1!==this.options.template.indexOf("DD");for(e=1;31>=e;e++){f=g?this.leadZero(e):e,h.push([e,f])}return h},fillMonth:function(){var h,g,l=this.initItems("M"),k=-1!==this.options.template.indexOf("MMMM"),j=-1!==this.options.template.indexOf("MMM"),i=-1!==this.options.template.indexOf("MM");for(g=0;11>=g;g++){h=k?moment().date(1).month(g).format("MMMM"):j?moment().date(1).month(g).format("MMM"):i?this.leadZero(g+1):g+1,l.push([g,h])}return l},fillYear:function(){var f,e,h=[],g=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--){f=g?e:(e+"").substring(2),h[this.options.yearDescending?"push":"unshift"]([e,f])}return h=this.initItems("y").concat(h)},fillHour:function(){var i,h,n=this.initItems("h"),m=-1!==this.options.template.indexOf("h"),l=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),k=m?1:0,j=m?12:23;for(h=k;j>=h;h++){i=l?this.leadZero(h):h,n.push([h,i])}return n},fillMinute:function(){var f,e,h=this.initItems("m"),g=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep){f=g?this.leadZero(e):e,h.push([e,f])}return h},fillSecond:function(){var f,e,h=this.initItems("s"),g=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep){f=g?this.leadZero(e):e,h.push([e,f])}return h},fillAmpm:function(){var f=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",f?"am":"AM"],["pm",f?"pm":"PM"]]);return e},getValue:function(a){var j,i={},h=this,g=!1;return d.each(this.map,function(f){if("ampm"!==f){var e="day"===f?1:0;return i[f]=h["$"+f]?parseInt(h["$"+f].val(),10):e,isNaN(i[f])?(g=!0,!1):void 0}}),g?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),j=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(j),a=void 0===a?this.options.format:a,null===a?j.isValid()?j:null:j.isValid()?j.format(a):"")},setValue:function(a){function j(e,k){var f={};return e.children("option").each(function(l,o){var n,m=d(o).attr("value");""!==m&&(n=Math.abs(m-k),("undefined"==typeof f.distance||n<f.distance)&&(f={value:m,distance:n}))}),f.value}if(a){var i="string"==typeof a?moment(a,this.options.format):moment(a),h=this,g={};i.isValid()&&(d.each(this.map,function(f,e){"ampm"!==f&&(g[f]=i[e[1]]())}),this.$ampm&&(g.hour>=12?(g.ampm="pm",g.hour>12&&(g.hour-=12)):(g.ampm="am",0===g.hour&&(g.hour=12))),d.each(g,function(f,e){h["$"+f]&&("minute"===f&&h.options.minuteStep>1&&h.options.roundTime&&(e=j(h["$"+f],e)),"second"===f&&h.options.secondStep>1&&h.options.roundTime&&(e=j(h["$"+f],e)),h["$"+f].val(e))}),this.$element.val(i.format(this.options.format)))}},highlight:function(b){b.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(b){return 9>=b?"0"+b:b},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},d.fn.combodate=function(f){var b,a=Array.apply(null,arguments);return a.shift(),"getValue"===f&&this.length&&(b=this.eq(0).data("combodate"))?b.getValue.apply(b,a):this.each(function(){var i=d(this),h=i.data("combodate"),e="object"==typeof f&&f;h||i.data("combodate",h=new c(this,e)),"string"==typeof f&&"function"==typeof h[f]&&h[f].apply(h,a)})},d.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0}}(window.jQuery),function(d){var c=function(a){this.init("combodate",a,c.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),a.combodate=d.fn.editableutils.tryParseJson(a.combodate,!0),this.options.combodate=d.extend({},c.defaults.combodate,a.combodate,{format:this.options.format,template:this.options.template})};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===d.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(b,f){var e=b?b.format(this.options.viewformat):"";c.superclass.value2html.call(this,e,f)},html2value:function(b){return b?moment(b,this.options.viewformat):null},value2str:function(b){return b?b.format(this.options.format):""},str2value:function(b){return b?moment(b,this.options.format):null},value2submit:function(b){return this.value2str(b)},value2input:function(b){this.$input.combodate("setValue",b)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),d.fn.editabletypes.combodate=c}(window.jQuery),function(d){var c=d.fn.editableform.Constructor.prototype.initInput;d.extend(d.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=d(d.fn.editableform.template),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){c.apply(this);var f=null===this.input.options.inputclass||this.input.options.inputclass===!1,b="input-medium",a="text,select,textarea,password,email,url,tel,number,range,time".split(",");~d.inArray(this.input.type,a)&&f&&(this.input.options.inputclass=b,this.input.$input.addClass(b))}}),d.fn.editableform.buttons='<button type="submit" class="btn btn-primary editable-submit"><i class="icon-ok icon-white"></i></button><button type="button" class="btn editable-cancel"><i class="icon-remove"></i></button>',d.fn.editableform.errorGroupClass="error",d.fn.editableform.errorBlockClass=null,d.fn.editableform.engine="bs2"}(window.jQuery),function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",innerCss:b.fn.popover&&b(b.fn.popover.defaults.template).find("p").length?".popover-content p":".popover-content",defaults:b.fn.popover.defaults,initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var a;this.$element.data("template")&&(a=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),a&&this.$element.data("template",a)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(d,c){this.container().options[d]=c},setPosition:function(){!function(){var v,u,t,s,r,q,p,o,n,m,a=this.tip();switch(r="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,v=/in/.test(r),a.removeClass("top right bottom left").css({top:0,left:0,display:"block"}),u=this.getPosition(v),t=a[0].offsetWidth,s=a[0].offsetHeight,r=v?r.split(" ")[1]:r,o={top:u.top+u.height,left:u.left+u.width/2-t/2},p={top:u.top-s,left:u.left+u.width/2-t/2},n={top:u.top+u.height/2-s/2,left:u.left-t},m={top:u.top+u.height/2-s/2,left:u.left+u.width},r){case"bottom":o.top+s>b(window).scrollTop()+b(window).height()&&(r=p.top>b(window).scrollTop()?"top":m.left+t<b(window).scrollLeft()+b(window).width()?"right":n.left>b(window).scrollLeft()?"left":"right");break;case"top":p.top<b(window).scrollTop()&&(r=o.top+s<b(window).scrollTop()+b(window).height()?"bottom":m.left+t<b(window).scrollLeft()+b(window).width()?"right":n.left>b(window).scrollLeft()?"left":"right");break;case"left":n.left<b(window).scrollLeft()&&(r=m.left+t<b(window).scrollLeft()+b(window).width()?"right":p.top>b(window).scrollTop()?"top":p.top>b(window).scrollTop()?"bottom":"right");break;case"right":m.left+t>b(window).scrollLeft()+b(window).width()&&(n.left>b(window).scrollLeft()?r="left":p.top>b(window).scrollTop()?r="top":p.top>b(window).scrollTop()&&(r="bottom"))}switch(r){case"bottom":q=o;break;case"top":q=p;break;case"left":q=n;break;case"right":q=m}a.offset(q).addClass(r).addClass("in")}.call(this.container())}})}(window.jQuery),function(x){function w(){return new Date(Date.UTC.apply(Date,arguments))}function v(a,z){var y,l=x(a).data(),k={},j=new RegExp("^"+z.toLowerCase()+"([A-Z])"),z=new RegExp("^"+z.toLowerCase());for(var i in l){z.test(i)&&(y=i.replace(j,function(d,c){return c.toLowerCase()}),k[y]=l[i])}return k}function u(a){var f={};if(n[a]||(a=a.split("-")[0],n[a])){var e=n[a];return x.each(o,function(d,c){c in e&&(f[c]=e[c])}),f}}var t=function(a,d){this._process_options(d),this.element=x(a),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=x(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,c){return parseInt(c)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};t.prototype={constructor:t,_process_options:function(a){this._o=x.extend({},this._o,a);var h=this.o=x.extend({},this._o),g=h.language;switch(n[g]||(g=g.split("-")[0],n[g]||(g=p.language)),h.language=g,h.startView){case 2:case"decade":h.startView=2;break;case 1:case"year":h.startView=1;break;default:h.startView=0}switch(h.minViewMode){case 1:case"months":h.minViewMode=1;break;case 2:case"years":h.minViewMode=2;break;default:h.minViewMode=0}h.startView=Math.max(h.startView,h.minViewMode),h.weekStart%=7,h.weekEnd=(h.weekStart+6)%7;var f=m.parseFormat(h.format);h.startDate!==-1/0&&(h.startDate=m.parseDate(h.startDate,f,h.language)),1/0!==h.endDate&&(h.endDate=m.parseDate(h.endDate,f,h.language)),h.daysOfWeekDisabled=h.daysOfWeekDisabled||[],x.isArray(h.daysOfWeekDisabled)||(h.daysOfWeekDisabled=h.daysOfWeekDisabled.split(/[,\s]*/)),h.daysOfWeekDisabled=x.map(h.daysOfWeekDisabled,function(b){return parseInt(b,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(f){for(var e,h,g=0;g<f.length;g++){e=f[g][0],h=f[g][1],e.on(h)}},_unapplyEvents:function(f){for(var e,h,g=0;g<f.length;g++){e=f[g][0],h=f[g][1],e.off(h)}},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:x.proxy(this.show,this),keyup:x.proxy(this.update,this),keydown:x.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:x.proxy(this.show,this),keyup:x.proxy(this.update,this),keydown:x.proxy(this.keydown,this)}],[this.component,{click:x.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:x.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:x.proxy(this.click,this)}],[x(window),{resize:x.proxy(this.place,this)}],[x(document),{mousedown:x.proxy(function(b){this.element.is(b.target)||this.element.find(b.target).size()||this.picker.is(b.target)||this.picker.find(b.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,h){var g=h||this.date,f=new Date(g.getTime()+60000*g.getTimezoneOffset());this.element.trigger({type:a,date:f,format:x.proxy(function(d){var c=d||this.o.format;return m.formatDate(g,c,this.o.language)},this)})},show:function(b){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),b&&b.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var b=this.getUTCDate();return new Date(b.getTime()+60000*b.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(b){this.setUTCDate(new Date(b.getTime()-60000*b.getTimezoneOffset()))},setUTCDate:function(b){this.date=b,this.setValue()},setValue:function(){var b=this.getFormattedDate();this.isInput?this.element.val(b):this.component&&this.element.find("input").val(b)},getFormattedDate:function(b){return void 0===b&&(b=this.o.format),m.formatDate(this.date,b,this.o.language)},setStartDate:function(b){this._process_options({startDate:b}),this.update(),this.updateNavArrows()},setEndDate:function(b){this._process_options({endDate:b}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(b){this._process_options({daysOfWeekDisabled:b}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var a=parseInt(this.element.parents().filter(function(){return"auto"!=x(this).css("z-index")}).first().css("z-index"))+10,f=this.component?this.component.parent().offset():this.element.offset(),e=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:f.top+e,left:f.left,zIndex:a})}},_allow_update:!0,update:function(){if(this._allow_update){var d,c=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0] instanceof Date)?(d=arguments[0],c=!0):(d=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=m.parseDate(d,this.o.format,this.o.language),c&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var e=this.o.weekStart,d="<tr>";if(this.o.calendarWeeks){var f='<th class="cw">&nbsp;</th>';d+=f,this.picker.find(".datepicker-days thead tr:first-child").prepend(f)}for(;e<this.o.weekStart+7;){d+='<th class="dow">'+n[this.o.language].daysMin[e++%7]+"</th>"}d+="</tr>",this.picker.find(".datepicker-days thead").append(d)},fillMonths:function(){for(var d="",c=0;12>c;){d+='<span class="month">'+n[this.o.language].monthsShort[c++]+"</span>"}this.picker.find(".datepicker-months td").html(d)},setRange:function(a){a&&a.length?this.range=x.map(a,function(b){return b.valueOf()}):delete this.range,this.fill()},getClassNames:function(a){var l=[],k=this.viewDate.getUTCFullYear(),j=this.viewDate.getUTCMonth(),i=this.date.valueOf(),h=new Date;return a.getUTCFullYear()<k||a.getUTCFullYear()==k&&a.getUTCMonth()<j?l.push("old"):(a.getUTCFullYear()>k||a.getUTCFullYear()==k&&a.getUTCMonth()>j)&&l.push("new"),this.o.todayHighlight&&a.getUTCFullYear()==h.getFullYear()&&a.getUTCMonth()==h.getMonth()&&a.getUTCDate()==h.getDate()&&l.push("today"),i&&a.valueOf()==i&&l.push("active"),(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==x.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&l.push("disabled"),this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&l.push("range"),-1!=x.inArray(a.valueOf(),this.range)&&l.push("selected")),l},fill:function(){var R,Q=new Date(this.viewDate),P=Q.getUTCFullYear(),O=Q.getUTCMonth(),N=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,M=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,L=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,K=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(n[this.o.language].months[O]+" "+P),this.picker.find("tfoot th.today").text(n[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(n[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var J=w(P,O-1,28,0,0,0,0),I=m.getDaysInMonth(J.getUTCFullYear(),J.getUTCMonth());J.setUTCDate(I),J.setUTCDate(I-(J.getUTCDay()-this.o.weekStart+7)%7);var H=new Date(J);H.setUTCDate(H.getUTCDate()+42),H=H.valueOf();for(var G,F=[];J.valueOf()<H;){if(J.getUTCDay()==this.o.weekStart&&(F.push("<tr>"),this.o.calendarWeeks)){var E=new Date(+J+86400000*((this.o.weekStart-J.getUTCDay()-7)%7)),D=new Date(+E+86400000*((11-E.getUTCDay())%7)),C=new Date(+(C=w(D.getUTCFullYear(),0,1))+86400000*((11-C.getUTCDay())%7)),B=(D-C)/86400000/7+1;F.push('<td class="cw">'+B+"</td>")}G=this.getClassNames(J),G.push("day");var A=this.o.beforeShowDay(J);void 0===A?A={}:"boolean"==typeof A?A={enabled:A}:"string"==typeof A&&(A={classes:A}),A.enabled===!1&&G.push("disabled"),A.classes&&(G=G.concat(A.classes.split(/\s+/))),A.tooltip&&(R=A.tooltip),G=x.unique(G),F.push('<td class="'+G.join(" ")+'"'+(R?' title="'+R+'"':"")+">"+J.getUTCDate()+"</td>"),J.getUTCDay()==this.o.weekEnd&&F.push("</tr>"),J.setUTCDate(J.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(F.join(""));var l=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(P).end().find("span").removeClass("active");l&&l==P&&k.eq(this.date.getUTCMonth()).addClass("active"),(N>P||P>L)&&k.addClass("disabled"),P==N&&k.slice(0,M).addClass("disabled"),P==L&&k.slice(K+1).addClass("disabled"),F="",P=10*parseInt(P/10,10);var b=this.picker.find(".datepicker-years").find("th:eq(1)").text(P+"-"+(P+9)).end().find("td");P-=1;for(var a=-1;11>a;a++){F+='<span class="year'+(-1==a?" old":10==a?" new":"")+(l==P?" active":"")+(N>P||P>L?" disabled":"")+'">'+P+"</span>",P+=1}b.html(F)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),d=e.getUTCFullYear(),f=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&d<=this.o.startDate.getUTCFullYear()&&f<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&d>=this.o.endDate.getUTCFullYear()&&f>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&d<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&d>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(D){D.preventDefault();var C=x(D.target).closest("span, td, th");if(1==C.length){switch(C[0].nodeName.toLowerCase()){case"th":switch(C[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var B=m.modes[this.viewMode].navStep*("prev"==C[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,B);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,B)}this.fill();break;case"today":var A=new Date;A=w(A.getFullYear(),A.getMonth(),A.getDate(),0,0,0),this.showMode(-2);var z="linked"==this.o.todayBtn?null:"view";this._setDate(A,z);break;case"clear":var y;this.isInput?y=this.element:this.component&&(y=this.element.find("input")),y&&y.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!C.is(".disabled")){if(this.viewDate.setUTCDate(1),C.is(".month")){var l=1,b=C.parent().find("span").index(C),a=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(b),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(w(a,b,l,0,0,0,0))}else{var a=parseInt(C.text(),10)||0,l=1,b=0;this.viewDate.setUTCFullYear(a),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(w(a,b,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(C.is(".day")&&!C.is(".disabled")){var l=parseInt(C.text(),10)||1,a=this.viewDate.getUTCFullYear(),b=this.viewDate.getUTCMonth();C.is(".old")?0===b?(b=11,a-=1):b-=1:C.is(".new")&&(11==b?(b=0,a+=1):b+=1),this._setDate(w(a,b,l,0,0,0,0))}}}},_setDate:function(e,d){d&&"date"!=d||(this.date=new Date(e)),d&&"view"!=d||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&(f.change(),!this.o.autoclose||d&&"date"!=d||this.hide())},moveMonth:function(D,C){if(!C){return D}var B,A,z=new Date(D.valueOf()),y=z.getUTCDate(),l=z.getUTCMonth(),k=Math.abs(C);if(C=C>0?1:-1,1==k){A=-1==C?function(){return z.getUTCMonth()==l}:function(){return z.getUTCMonth()!=B},B=l+C,z.setUTCMonth(B),(0>B||B>11)&&(B=(B+12)%12)}else{for(var j=0;k>j;j++){z=this.moveMonth(z,C)}B=z.getUTCMonth(),z.setUTCDate(y),A=function(){return B!=z.getUTCMonth()}}for(;A();){z.setUTCDate(--y),z.setUTCMonth(B)}return z},moveYear:function(d,c){return this.moveMonth(d,12*c)},dateWithinRange:function(b){return b>=this.o.startDate&&b<=this.o.endDate},keydown:function(h){if(this.picker.is(":not(:visible)")){return 27==h.keyCode&&this.show(),void 0}var g,l,k,j=!1;switch(h.keyCode){case 27:this.hide(),h.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}g=37==h.keyCode?-1:1,h.ctrlKey?(l=this.moveYear(this.date,g),k=this.moveYear(this.viewDate,g)):h.shiftKey?(l=this.moveMonth(this.date,g),k=this.moveMonth(this.viewDate,g)):(l=new Date(this.date),l.setUTCDate(this.date.getUTCDate()+g),k=new Date(this.viewDate),k.setUTCDate(this.viewDate.getUTCDate()+g)),this.dateWithinRange(l)&&(this.date=l,this.viewDate=k,this.setValue(),this.update(),h.preventDefault(),j=!0);break;case 38:case 40:if(!this.o.keyboardNavigation){break}g=38==h.keyCode?-1:1,h.ctrlKey?(l=this.moveYear(this.date,g),k=this.moveYear(this.viewDate,g)):h.shiftKey?(l=this.moveMonth(this.date,g),k=this.moveMonth(this.viewDate,g)):(l=new Date(this.date),l.setUTCDate(this.date.getUTCDate()+7*g),k=new Date(this.viewDate),k.setUTCDate(this.viewDate.getUTCDate()+7*g)),this.dateWithinRange(l)&&(this.date=l,this.viewDate=k,this.setValue(),this.update(),h.preventDefault(),j=!0);break;case 13:this.hide(),h.preventDefault();break;case 9:this.hide()}if(j){this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change()}},showMode:function(b){b&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+b))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var s=function(a,d){this.element=x(a),this.inputs=x.map(d.inputs,function(b){return b.jquery?b[0]:b}),delete d.inputs,x(this.inputs).datepicker(d).bind("changeDate",x.proxy(this.dateUpdated,this)),this.pickers=x.map(this.inputs,function(c){return x(c).data("datepicker")}),this.updateDates()};s.prototype={updateDates:function(){this.dates=x.map(this.pickers,function(b){return b.date}),this.updateRanges()},updateRanges:function(){var a=x.map(this.dates,function(b){return b.valueOf()});x.each(this.pickers,function(b,d){d.setRange(a)})},dateUpdated:function(a){var j=x(a.target).data("datepicker"),i=j.getUTCDate(),h=x.inArray(a.target,this.inputs),g=this.inputs.length;if(-1!=h){if(i<this.dates[h]){for(;h>=0&&i<this.dates[h];){this.pickers[h--].setUTCDate(i)}}else{if(i>this.dates[h]){for(;g>h&&i>this.dates[h];){this.pickers[h++].setUTCDate(i)}}}this.updateDates()}},remove:function(){x.map(this.pickers,function(b){b.remove()}),delete this.element.data().datepicker}};var r=x.fn.datepicker,q=x.fn.datepicker=function(a){var d=Array.apply(null,arguments);d.shift();var c;return this.each(function(){var g=x(this),f=g.data("datepicker"),e="object"==typeof a&&a;if(!f){var b=v(this,"date"),z=x.extend({},p,b,e),y=u(z.language),i=x.extend({},p,y,b,e);if(g.is(".input-daterange")||i.inputs){var h={inputs:i.inputs||g.find("input").toArray()};g.data("datepicker",f=new s(this,x.extend(i,h)))}else{g.data("datepicker",f=new t(this,i))}}return"string"==typeof a&&"function"==typeof f[a]&&(c=f[a].apply(f,d),void 0!==c)?!1:void 0}),void 0!==c?c:this},p=x.fn.datepicker.defaults={autoclose:!1,beforeShowDay:x.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},o=x.fn.datepicker.locale_opts=["format","rtl","weekStart"];x.fn.datepicker.Constructor=t;var n=x.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(b){return 0===b%4&&0!==b%100||0===b%400},getDaysInMonth:function(d,c){return[31,m.isLeapYear(d)?29:28,31,30,31,30,31,31,30,31,30,31][c]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var d=e.replace(this.validParts,"\0").split("\0"),f=e.match(this.validParts);if(!d||!d.length||!f||0===f.length){throw new Error("Invalid date format.")}return{separators:d,parts:f}},parseDate:function(F,E,D){if(F instanceof Date){return F}if("string"==typeof E&&(E=m.parseFormat(E)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(F)){var C,B,A=/([\-+]\d+)([dmwy])/,z=F.match(/([\-+]\d+)([dmwy])/g);F=new Date;for(var y=0;y<z.length;y++){switch(C=A.exec(z[y]),B=parseInt(C[1]),C[2]){case"d":F.setUTCDate(F.getUTCDate()+B);break;case"m":F=t.prototype.moveMonth.call(t.prototype,F,B);break;case"w":F.setUTCDate(F.getUTCDate()+7*B);break;case"y":F=t.prototype.moveYear.call(t.prototype,F,B)}}return w(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate(),0,0,0)}var l,k,C,z=F&&F.match(this.nonpunctuation)||[],F=new Date,e={},b=["yyyy","yy","M","MM","m","mm","d","dd"],a={yyyy:function(d,c){return d.setUTCFullYear(c)},yy:function(d,c){return d.setUTCFullYear(2000+c)},m:function(d,c){for(c-=1;0>c;){c+=12}for(c%=12,d.setUTCMonth(c);d.getUTCMonth()!=c;){d.setUTCDate(d.getUTCDate()-1)}return d},d:function(d,c){return d.setUTCDate(c)}};a.M=a.MM=a.mm=a.m,a.dd=a.d,F=w(F.getFullYear(),F.getMonth(),F.getDate(),0,0,0);var I=E.parts.slice();if(z.length!=I.length&&(I=x(I).filter(function(d,f){return -1!==x.inArray(f,b)}).toArray()),z.length==I.length){for(var y=0,H=I.length;H>y;y++){if(l=parseInt(z[y],10),C=I[y],isNaN(l)){switch(C){case"MM":k=x(n[D].months).filter(function(){var d=this.slice(0,z[y].length),c=z[y].slice(0,d.length);return d==c}),l=x.inArray(k[0],n[D].months)+1;break;case"M":k=x(n[D].monthsShort).filter(function(){var d=this.slice(0,z[y].length),c=z[y].slice(0,d.length);return d==c}),l=x.inArray(k[0],n[D].monthsShort)+1}}e[C]=l}for(var G,y=0;y<b.length;y++){G=b[y],G in e&&!isNaN(e[G])&&a[G](F,e[G])}}return F},formatDate:function(a,z,y){"string"==typeof z&&(z=m.parseFormat(z));var l={d:a.getUTCDate(),D:n[y].daysShort[a.getUTCDay()],DD:n[y].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:n[y].monthsShort[a.getUTCMonth()],MM:n[y].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};l.dd=(l.d<10?"0":"")+l.d,l.mm=(l.m<10?"0":"")+l.m;for(var a=[],k=x.extend([],z.separators),j=0,i=z.parts.length;i>=j;j++){k.length&&a.push(k.shift()),a.push(l[z.parts[j]])}return a.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",x.fn.datepicker.DPGlobal=m,x.fn.datepicker.noConflict=function(){return x.fn.datepicker=r,this},x(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var d=x(this);d.data("datepicker")||(a.preventDefault(),q.call(d,"show"))}),x(function(){q.call(x('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(d){d.fn.bdatepicker=d.fn.datepicker.noConflict(),d.fn.datepicker||(d.fn.datepicker=d.fn.bdatepicker);var c=function(b){this.init("date",b,c.defaults),this.initPicker(b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{initPicker:function(a,e){this.options.viewformat||(this.options.viewformat=this.options.format),a.datepicker=d.fn.editableutils.tryParseJson(a.datepicker,!0),this.options.datepicker=d.extend({},e.datepicker,a.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=d.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=d('<a href="#"></a>').html(this.options.clear).click(d.proxy(function(b){b.preventDefault(),b.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(d('<div class="editable-clear">').append(this.$clear)))},value2html:function(b,f){var e=b?this.dpg.formatDate(b,this.parsedViewFormat,this.options.datepicker.language):"";c.superclass.value2html.call(this,e,f)},html2value:function(b){return this.parseDate(b,this.parsedViewFormat)},value2str:function(b){return b?this.dpg.formatDate(b,this.parsedFormat,this.options.datepicker.language):""},str2value:function(b){return this.parseDate(b,this.parsedFormat)},value2submit:function(b){return this.value2str(b)},value2input:function(b){this.$input.bdatepicker("update",b)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(a){if(!d(a.currentTarget).is(".old")&&!d(a.currentTarget).is(".new")){var e=d(this).closest("form");setTimeout(function(){e.submit()},200)}})},parseDate:function(f,e){var h,g=null;return f&&(g=this.dpg.parseDate(f,e,this.options.datepicker.language),"string"==typeof f&&(h=this.dpg.formatDate(g,e,this.options.datepicker.language),f!==h&&(g=null))),g}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),d.fn.editabletypes.date=c}(window.jQuery),function(d){var c=function(b){this.init("datefield",b,c.defaults),this.initPicker(b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.date),d.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(d.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(b){this.$input.val(b?this.dpg.formatDate(b,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){d.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),c.defaults=d.extend({},d.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),d.fn.editabletypes.datefield=c}(window.jQuery),function(d){var c=function(b){this.init("datetime",b,c.defaults),this.initPicker(b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput),d.extend(c.prototype,{initPicker:function(a,e){this.options.viewformat||(this.options.viewformat=this.options.format),a.datetimepicker=d.fn.editableutils.tryParseJson(a.datetimepicker,!0),this.options.datetimepicker=d.extend({},e.datetimepicker,a.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=d.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var a=d(this).closest("form").parent();setTimeout(function(){a.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=d('<a href="#"></a>').html(this.options.clear).click(d.proxy(function(b){b.preventDefault(),b.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(d('<div class="editable-clear">').append(this.$clear)))},value2html:function(b,f){var e=b?this.dpg.formatDate(this.toUTC(b),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return f?(c.superclass.value2html.call(this,e,f),void 0):e},html2value:function(f){var e=this.parseDate(f,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(b){return b?this.dpg.formatDate(this.toUTC(b),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(f){var e=this.parseDate(f,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(b){return this.value2str(b)},value2input:function(b){b&&this.$input.data("datetimepicker").setDate(b)},input2value:function(){var b=this.$input.data("datetimepicker");return b.date?b.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var a=d(this).closest("form");setTimeout(function(){a.submit()},200)})},toUTC:function(b){return b?new Date(b.valueOf()-60000*b.getTimezoneOffset()):b},fromUTC:function(b){return b?new Date(b.valueOf()+60000*b.getTimezoneOffset()):b},parseDate:function(f,e){var h,g=null;return f&&(g=this.dpg.parseDate(f,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof f&&(h=this.dpg.formatDate(g,e,this.options.datetimepicker.language,this.options.formatType),f!==h&&(g=null))),g}}),c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),d.fn.editabletypes.datetime=c}(window.jQuery),function(d){var c=function(b){this.init("datetimefield",b,c.defaults),this.initPicker(b,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.datetime),d.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(d.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(b){this.$input.val(this.value2html(b)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){d.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),c.defaults=d.extend({},d.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),d.fn.editabletypes.datetimefield=c}(window.jQuery),function(d){var c=function(a){this.init("typeahead",a,c.defaults),this.options.typeahead=d.extend({},c.defaults.typeahead,{matcher:this.matcher,sorter:this.sorter,highlighter:this.highlighter,updater:this.updater},a.typeahead)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list),d.extend(c.prototype,{renderList:function(){this.$input=this.$tpl.is("input")?this.$tpl:this.$tpl.find('input[type="text"]'),this.options.typeahead.source=this.sourceData,this.$input.typeahead(this.options.typeahead);var a=this.$input.data("typeahead");a.render=d.proxy(this.typeaheadRender,a),a.select=d.proxy(this.typeaheadSelect,a),a.move=d.proxy(this.typeaheadMove,a),this.renderClear(),this.setClass(),this.setAttr("placeholder")},value2htmlFinal:function(a,f){if(this.getIsObjects()){var e=d.fn.editableutils.itemsByValue(a,this.sourceData);a=e.length?e[0].text:""}d.fn.editabletypes.abstractinput.prototype.value2html.call(this,a,f)},html2value:function(b){return b?b:null},value2input:function(a){if(this.getIsObjects()){var e=d.fn.editableutils.itemsByValue(a,this.sourceData);this.$input.data("value",a).val(e.length?e[0].text:"")}else{this.$input.val(a)}},input2value:function(){if(this.getIsObjects()){var a=this.$input.data("value"),e=d.fn.editableutils.itemsByValue(a,this.sourceData);return e.length&&e[0].text.toLowerCase()===this.$input.val().toLowerCase()?a:null}return this.$input.val()},getIsObjects:function(){if(void 0===this.isObjects){this.isObjects=!1;for(var b=0;b<this.sourceData.length;b++){if(this.sourceData[b].value!==this.sourceData[b].text){this.isObjects=!0;break}}}return this.isObjects},activate:d.fn.editabletypes.text.prototype.activate,renderClear:d.fn.editabletypes.text.prototype.renderClear,postrender:d.fn.editabletypes.text.prototype.postrender,toggleClear:d.fn.editabletypes.text.prototype.toggleClear,clear:function(){d.fn.editabletypes.text.prototype.clear.call(this),this.$input.data("value","")},matcher:function(a){return d.fn.typeahead.Constructor.prototype.matcher.call(this,a.text)},sorter:function(h){for(var g,l,k=[],j=[],i=[];g=h.shift();){l=g.text,l.toLowerCase().indexOf(this.query.toLowerCase())?~l.indexOf(this.query)?j.push(g):i.push(g):k.push(g)}return k.concat(j,i)},highlighter:function(a){return d.fn.typeahead.Constructor.prototype.highlighter.call(this,a.text)},updater:function(b){return this.$element.data("value",b.value),b.text},typeaheadRender:function(a){var e=this;return a=d(a).map(function(f,g){return f=d(e.options.item).data("item",g),f.find("a").html(e.highlighter(g)),f[0]}),this.options.autoSelect&&a.first().addClass("active"),this.$menu.html(a),this},typeaheadSelect:function(){var b=this.$menu.find(".active").data("item");return(this.options.autoSelect||b)&&this.$element.val(this.updater(b)).change(),this.hide()},typeaheadMove:function(b){if(this.shown){switch(b.keyCode){case 9:case 13:case 27:if(!this.$menu.find(".active").length){return}b.preventDefault();break;case 38:b.preventDefault(),this.prev();break;case 40:b.preventDefault(),this.next()}b.stopPropagation()}}}),c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:!0}),d.fn.editabletypes.typeahead=c}(window.jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.44.0-2013.09.15
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){M.data=k;if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var al=o.attr2("target"),aj=o.attr2("action");L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(aj!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function am(){try{var aq=S(Q).readyState;d("state = "+aq);if(aq&&aq.toLowerCase()=="uninitialized"){setTimeout(am,50)}}catch(ar){d("Server abort: ",ar," (",ar.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var ak=[];try{if(V.extraData){for(var ap in V.extraData){if(V.extraData.hasOwnProperty(ap)){if(f.isPlainObject(V.extraData[ap])&&V.extraData[ap].hasOwnProperty("name")&&V.extraData[ap].hasOwnProperty("value")){ak.push(f('<input type="hidden" name="'+V.extraData[ap].name+'">').val(V.extraData[ap].value).appendTo(L)[0])}else{ak.push(f('<input type="hidden" name="'+ap+'">').val(V.extraData[ap]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(am,15);try{L.submit()}catch(an){var ao=document.createElement("form").submit;ao.apply(L)}}finally{L.setAttribute("action",aj);if(al){L.setAttribute("target",al)}else{o.removeAttr("target")}f(ak).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var p=x?l.getElementsByTagName("*"):l.elements;if(!p){return w}var r,q,o,y,m,t,k;for(r=0,t=p.length;r<t;r++){m=p[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(q=0,k=y.length;q<k;q++){w.push({name:o,value:y[q]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(q=0;q<h.length;q++){w.push({name:o,value:h[q],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}})((typeof(jQuery)!="undefined")?jQuery:window.Zepto);